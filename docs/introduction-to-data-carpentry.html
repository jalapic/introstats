<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Introduction to Data Carpentry | PSY317L &amp; PSY120R Textbook</title>
  <meta name="description" content="Chapter 4 Introduction to Data Carpentry | PSY317L &amp; PSY120R Textbook" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Introduction to Data Carpentry | PSY317L &amp; PSY120R Textbook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Introduction to Data Carpentry | PSY317L &amp; PSY120R Textbook" />
  
  
  

<meta name="author" content="James P. Curley &amp; Tyler M. Milewski" />


<meta name="date" content="2021-08-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-syntax.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro to Statistics & R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to PSY317 / PSY120R !</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-this-book-includes-and-what-it-doesnt"><i class="fa fa-check"></i><b>1.1</b> What this book includes and what it doesn’t</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-use-this-guide"><i class="fa fa-check"></i><b>1.2</b> How to use this guide</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.4</b> References</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#other-places-to-find-help-about-r-and-statistics"><i class="fa fa-check"></i><b>1.5</b> Other places to find help about R and Statistics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#downloading-r"><i class="fa fa-check"></i><b>2.1</b> Downloading R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#downloading-rstudio"><i class="fa fa-check"></i><b>2.2</b> Downloading RStudio</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#successful-installation"><i class="fa fa-check"></i><b>2.2.1</b> Successful installation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#using-rcloud"><i class="fa fa-check"></i><b>2.3</b> Using RCloud</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#the-rstudio-environment"><i class="fa fa-check"></i><b>2.4</b> The RStudio Environment</a></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#running-code"><i class="fa fa-check"></i><b>2.5</b> Running Code</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction.html"><a href="introduction.html#the-console"><i class="fa fa-check"></i><b>2.5.1</b> The Console</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction.html"><a href="introduction.html#rscript"><i class="fa fa-check"></i><b>2.5.2</b> RScript</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction.html"><a href="introduction.html#saving-an-rscript"><i class="fa fa-check"></i><b>2.5.3</b> Saving an RScript</a></li>
<li class="chapter" data-level="2.5.4" data-path="introduction.html"><a href="introduction.html#open-an-existing-rscript"><i class="fa fa-check"></i><b>2.5.4</b> Open an existing RScript</a></li>
<li class="chapter" data-level="2.5.5" data-path="introduction.html"><a href="introduction.html#running-code-in-scripts"><i class="fa fa-check"></i><b>2.5.5</b> Running Code in Scripts</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction.html"><a href="introduction.html#packages"><i class="fa fa-check"></i><b>2.6</b> Packages</a></li>
<li class="chapter" data-level="2.7" data-path="introduction.html"><a href="introduction.html#working-with-rstudio-in-psy317l"><i class="fa fa-check"></i><b>2.7</b> Working with RStudio in PSY317L</a></li>
<li class="chapter" data-level="2.8" data-path="introduction.html"><a href="introduction.html#quitting-rstudio"><i class="fa fa-check"></i><b>2.8</b> Quitting RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-syntax.html"><a href="basic-syntax.html"><i class="fa fa-check"></i><b>3</b> Basic Syntax</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basic-syntax.html"><a href="basic-syntax.html#simple-mathematical-syntax"><i class="fa fa-check"></i><b>3.1</b> Simple mathematical syntax</a></li>
<li class="chapter" data-level="3.2" data-path="basic-syntax.html"><a href="basic-syntax.html#assignment"><i class="fa fa-check"></i><b>3.2</b> Assignment</a></li>
<li class="chapter" data-level="3.3" data-path="basic-syntax.html"><a href="basic-syntax.html#vectors"><i class="fa fa-check"></i><b>3.3</b> Vectors</a></li>
<li class="chapter" data-level="3.4" data-path="basic-syntax.html"><a href="basic-syntax.html#characters"><i class="fa fa-check"></i><b>3.4</b> Characters</a></li>
<li class="chapter" data-level="3.5" data-path="basic-syntax.html"><a href="basic-syntax.html#naming-of-objects"><i class="fa fa-check"></i><b>3.5</b> Naming of objects</a></li>
<li class="chapter" data-level="3.6" data-path="basic-syntax.html"><a href="basic-syntax.html#logical-operators"><i class="fa fa-check"></i><b>3.6</b> Logical Operators</a></li>
<li class="chapter" data-level="3.7" data-path="basic-syntax.html"><a href="basic-syntax.html#some-things-that-are-useful-to-know."><i class="fa fa-check"></i><b>3.7</b> Some things that are useful to know.</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="basic-syntax.html"><a href="basic-syntax.html#tab-is-your-friend"><i class="fa fa-check"></i><b>3.7.1</b> Tab is your friend</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="basic-syntax.html"><a href="basic-syntax.html#error-messages"><i class="fa fa-check"></i><b>3.8</b> Error Messages</a></li>
<li class="chapter" data-level="3.9" data-path="basic-syntax.html"><a href="basic-syntax.html#functions"><i class="fa fa-check"></i><b>3.9</b> Functions</a></li>
<li class="chapter" data-level="3.10" data-path="basic-syntax.html"><a href="basic-syntax.html#chaining-syntax"><i class="fa fa-check"></i><b>3.10</b> Chaining Syntax</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html"><i class="fa fa-check"></i><b>4</b> Introduction to Data Carpentry</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#categorical-data"><i class="fa fa-check"></i><b>4.1.1</b> Categorical Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#numerical-data-discrete-vs.-continuous"><i class="fa fa-check"></i><b>4.1.2</b> Numerical Data (Discrete vs. Continuous)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#importing-data"><i class="fa fa-check"></i><b>4.2</b> Importing Data</a></li>
<li class="chapter" data-level="4.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#introduction-to-dataframes"><i class="fa fa-check"></i><b>4.3</b> Introduction to Dataframes</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#dataframe-basics"><i class="fa fa-check"></i><b>4.3.1</b> Dataframe basics</a></li>
<li class="chapter" data-level="4.3.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#indexing-dataframes."><i class="fa fa-check"></i><b>4.3.2</b> Indexing dataframes.</a></li>
<li class="chapter" data-level="4.3.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#adding-and-removing-columns"><i class="fa fa-check"></i><b>4.3.3</b> Adding and removing columns</a></li>
<li class="chapter" data-level="4.3.4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#structure-of-datasets"><i class="fa fa-check"></i><b>4.3.4</b> Structure of Datasets</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#manually-creating-a-dataframe"><i class="fa fa-check"></i><b>4.4</b> Manually creating a Dataframe</a></li>
<li class="chapter" data-level="4.5" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#tidyverse"><i class="fa fa-check"></i><b>4.5</b> tidyverse</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#table"><i class="fa fa-check"></i><b>4.5.1</b> table()</a></li>
<li class="chapter" data-level="4.5.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#filter---subsetting-data"><i class="fa fa-check"></i><b>4.5.2</b> filter() - Subsetting Data</a></li>
<li class="chapter" data-level="4.5.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#select---selecting-specific-columns"><i class="fa fa-check"></i><b>4.5.3</b> select() - Selecting specific columns</a></li>
<li class="chapter" data-level="4.5.4" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#mutate---creating-new-columns"><i class="fa fa-check"></i><b>4.5.4</b> mutate() - Creating new columns</a></li>
<li class="chapter" data-level="4.5.5" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#arrange---sort-data-columns"><i class="fa fa-check"></i><b>4.5.5</b> arrange() - Sort Data Columns</a></li>
<li class="chapter" data-level="4.5.6" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#chaining-together"><i class="fa fa-check"></i><b>4.5.6</b> Chaining together</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#wide-versus-long-data"><i class="fa fa-check"></i><b>4.6</b> Wide versus Long Data</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#wide-to-long"><i class="fa fa-check"></i><b>4.6.1</b> Wide to Long</a></li>
<li class="chapter" data-level="4.6.2" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#long-to-wide"><i class="fa fa-check"></i><b>4.6.2</b> Long to Wide</a></li>
<li class="chapter" data-level="4.6.3" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#real-data-example."><i class="fa fa-check"></i><b>4.6.3</b> Real Data Example.</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="introduction-to-data-carpentry.html"><a href="introduction-to-data-carpentry.html#joins"><i class="fa fa-check"></i><b>4.7</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#introduction-to-ggplot2"><i class="fa fa-check"></i><b>5.1</b> Introduction to ggplot2</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-visualization.html"><a href="data-visualization.html#assigning-plots"><i class="fa fa-check"></i><b>5.1.1</b> Assigning plots</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-visualization.html"><a href="data-visualization.html#titles-and-axes-titles"><i class="fa fa-check"></i><b>5.1.2</b> Titles and Axes Titles</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-visualization.html"><a href="data-visualization.html#colors-shapes-and-sizes"><i class="fa fa-check"></i><b>5.1.3</b> Colors, Shapes and Sizes</a></li>
<li class="chapter" data-level="5.1.4" data-path="data-visualization.html"><a href="data-visualization.html#themes"><i class="fa fa-check"></i><b>5.1.4</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#histograms"><i class="fa fa-check"></i><b>5.2</b> Histograms</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-visualization.html"><a href="data-visualization.html#histograms-with-ggplot2"><i class="fa fa-check"></i><b>5.2.1</b> Histograms with ggplot2</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-visualization.html"><a href="data-visualization.html#density-curves"><i class="fa fa-check"></i><b>5.2.2</b> Density Curves</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-visualization.html"><a href="data-visualization.html#comparing-distributions"><i class="fa fa-check"></i><b>5.2.3</b> Comparing Distributions</a></li>
<li class="chapter" data-level="5.2.4" data-path="data-visualization.html"><a href="data-visualization.html#stem-and-leaf-plots"><i class="fa fa-check"></i><b>5.2.4</b> Stem-and-Leaf Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#scatterplots"><i class="fa fa-check"></i><b>5.3</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-visualization.html"><a href="data-visualization.html#bubble-charts"><i class="fa fa-check"></i><b>5.3.1</b> Bubble Charts</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#line-graphs"><i class="fa fa-check"></i><b>5.4</b> Line Graphs</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-visualization.html"><a href="data-visualization.html#multiple-line-graphs"><i class="fa fa-check"></i><b>5.4.1</b> Multiple Line Graphs</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-visualization.html"><a href="data-visualization.html#comparing-distributions-across-groups"><i class="fa fa-check"></i><b>5.5</b> Comparing Distributions across Groups</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="data-visualization.html"><a href="data-visualization.html#strip-plots"><i class="fa fa-check"></i><b>5.5.1</b> Strip Plots</a></li>
<li class="chapter" data-level="5.5.2" data-path="data-visualization.html"><a href="data-visualization.html#boxplots"><i class="fa fa-check"></i><b>5.5.2</b> Boxplots</a></li>
<li class="chapter" data-level="5.5.3" data-path="data-visualization.html"><a href="data-visualization.html#violin-plots"><i class="fa fa-check"></i><b>5.5.3</b> Violin Plots</a></li>
<li class="chapter" data-level="5.5.4" data-path="data-visualization.html"><a href="data-visualization.html#stacked-boxplots"><i class="fa fa-check"></i><b>5.5.4</b> Stacked Boxplots</a></li>
<li class="chapter" data-level="5.5.5" data-path="data-visualization.html"><a href="data-visualization.html#ridgeline-plots"><i class="fa fa-check"></i><b>5.5.5</b> Ridgeline Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-visualization.html"><a href="data-visualization.html#bar-graphs"><i class="fa fa-check"></i><b>5.6</b> Bar Graphs</a></li>
<li class="chapter" data-level="5.7" data-path="data-visualization.html"><a href="data-visualization.html#small-multiples"><i class="fa fa-check"></i><b>5.7</b> Small Multiples</a></li>
<li class="chapter" data-level="5.8" data-path="data-visualization.html"><a href="data-visualization.html#saving-and-exporting-ggplot2-graphs"><i class="fa fa-check"></i><b>5.8</b> Saving and Exporting ggplot2 graphs</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="descriptives.html"><a href="descriptives.html"><i class="fa fa-check"></i><b>6</b> Descriptives</a>
<ul>
<li class="chapter" data-level="6.1" data-path="descriptives.html"><a href="descriptives.html#sample-vs-population"><i class="fa fa-check"></i><b>6.1</b> Sample vs Population</a></li>
<li class="chapter" data-level="6.2" data-path="descriptives.html"><a href="descriptives.html#sample-and-population-size"><i class="fa fa-check"></i><b>6.2</b> Sample and Population Size</a></li>
<li class="chapter" data-level="6.3" data-path="descriptives.html"><a href="descriptives.html#central-tendency"><i class="fa fa-check"></i><b>6.3</b> Central Tendency</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="descriptives.html"><a href="descriptives.html#mode"><i class="fa fa-check"></i><b>6.3.1</b> Mode</a></li>
<li class="chapter" data-level="6.3.2" data-path="descriptives.html"><a href="descriptives.html#median"><i class="fa fa-check"></i><b>6.3.2</b> Median</a></li>
<li class="chapter" data-level="6.3.3" data-path="descriptives.html"><a href="descriptives.html#mean"><i class="fa fa-check"></i><b>6.3.3</b> Mean</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="descriptives.html"><a href="descriptives.html#variation"><i class="fa fa-check"></i><b>6.4</b> Variation</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="descriptives.html"><a href="descriptives.html#range"><i class="fa fa-check"></i><b>6.4.1</b> Range</a></li>
<li class="chapter" data-level="6.4.2" data-path="descriptives.html"><a href="descriptives.html#interquartile-range"><i class="fa fa-check"></i><b>6.4.2</b> Interquartile Range</a></li>
<li class="chapter" data-level="6.4.3" data-path="descriptives.html"><a href="descriptives.html#average-deviation"><i class="fa fa-check"></i><b>6.4.3</b> Average Deviation</a></li>
<li class="chapter" data-level="6.4.4" data-path="descriptives.html"><a href="descriptives.html#standard-deviation"><i class="fa fa-check"></i><b>6.4.4</b> Standard Deviation</a></li>
<li class="chapter" data-level="6.4.5" data-path="descriptives.html"><a href="descriptives.html#variance"><i class="fa fa-check"></i><b>6.4.5</b> Variance</a></li>
<li class="chapter" data-level="6.4.6" data-path="descriptives.html"><a href="descriptives.html#average-versus-standard-deviation"><i class="fa fa-check"></i><b>6.4.6</b> Average versus Standard Deviation</a></li>
<li class="chapter" data-level="6.4.7" data-path="descriptives.html"><a href="descriptives.html#sample-standard-deviation"><i class="fa fa-check"></i><b>6.4.7</b> Sample Standard Deviation</a></li>
<li class="chapter" data-level="6.4.8" data-path="descriptives.html"><a href="descriptives.html#sample-versus-population-standard-deviation"><i class="fa fa-check"></i><b>6.4.8</b> Sample versus Population Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="descriptives.html"><a href="descriptives.html#descriptive-statistics-in-r"><i class="fa fa-check"></i><b>6.5</b> Descriptive Statistics in R</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="descriptives.html"><a href="descriptives.html#dealing-with-missing-data"><i class="fa fa-check"></i><b>6.5.1</b> Dealing with Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="descriptives.html"><a href="descriptives.html#descriptives-for-datasets"><i class="fa fa-check"></i><b>6.6</b> Descriptives for Datasets</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="descriptives.html"><a href="descriptives.html#descriptives-for-groups"><i class="fa fa-check"></i><b>6.6.1</b> Descriptives for Groups</a></li>
<li class="chapter" data-level="6.6.2" data-path="descriptives.html"><a href="descriptives.html#counts-by-group"><i class="fa fa-check"></i><b>6.6.2</b> Counts by Group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>7</b> Distributions</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="distributions.html"><a href="distributions.html#uniform-distribution"><i class="fa fa-check"></i><b>7.0.1</b> Uniform Distribution</a></li>
<li class="chapter" data-level="7.0.2" data-path="distributions.html"><a href="distributions.html#bimodal-distribution"><i class="fa fa-check"></i><b>7.0.2</b> Bimodal Distribution</a></li>
<li class="chapter" data-level="7.0.3" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>7.0.3</b> Normal Distribution</a></li>
<li class="chapter" data-level="7.0.4" data-path="distributions.html"><a href="distributions.html#standard-normal-distribution"><i class="fa fa-check"></i><b>7.0.4</b> Standard Normal Distribution</a></li>
<li class="chapter" data-level="7.0.5" data-path="distributions.html"><a href="distributions.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>7.0.5</b> Skewness and Kurtosis</a></li>
<li class="chapter" data-level="7.1" data-path="distributions.html"><a href="distributions.html#z-scores"><i class="fa fa-check"></i><b>7.1</b> Z-scores</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="distributions.html"><a href="distributions.html#z-scores-in-samples."><i class="fa fa-check"></i><b>7.1.1</b> z-scores in samples.</a></li>
<li class="chapter" data-level="7.1.2" data-path="distributions.html"><a href="distributions.html#using-z-scores-to-determine-probabilities"><i class="fa fa-check"></i><b>7.1.2</b> Using z-scores to determine probabilities</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="distributions.html"><a href="distributions.html#what-is-a-sampling-distribution"><i class="fa fa-check"></i><b>7.2</b> What is a Sampling Distribution ?</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="distributions.html"><a href="distributions.html#sample-size-and-the-sampling-distribution"><i class="fa fa-check"></i><b>7.2.1</b> Sample Size and the Sampling Distribution</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="distributions.html"><a href="distributions.html#central-limit-theorem"><i class="fa fa-check"></i><b>7.3</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="7.4" data-path="distributions.html"><a href="distributions.html#sampling-distribution-problems"><i class="fa fa-check"></i><b>7.4</b> Sampling distribution problems</a></li>
<li class="chapter" data-level="7.5" data-path="distributions.html"><a href="distributions.html#the-t-distribution"><i class="fa fa-check"></i><b>7.5</b> The t-distribution</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>8</b> Confidence Intervals</a>
<ul>
<li class="chapter" data-level="8.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#sample-means-as-estimates."><i class="fa fa-check"></i><b>8.1</b> Sample means as estimates.</a></li>
<li class="chapter" data-level="8.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#calculating-a-confidence-interval-with-z-distribution"><i class="fa fa-check"></i><b>8.2</b> Calculating a confidence interval with z-distribution</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#other-confidence-intervals-ranges"><i class="fa fa-check"></i><b>8.2.1</b> Other Confidence Intervals ranges</a></li>
<li class="chapter" data-level="8.2.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-intervals-and-sample-size"><i class="fa fa-check"></i><b>8.2.2</b> Confidence Intervals and Sample Size</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-intervals-with-t-distribution"><i class="fa fa-check"></i><b>8.3</b> Confidence Intervals with t-distribution</a></li>
<li class="chapter" data-level="8.4" data-path="confidence-intervals.html"><a href="confidence-intervals.html#calculating-a-t-distribution-confidence-interval"><i class="fa fa-check"></i><b>8.4</b> Calculating a t-distribution Confidence Interval</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#t-distribution-cis-and-sample-size."><i class="fa fa-check"></i><b>8.4.1</b> t-distribution CIs and sample size.</a></li>
<li class="chapter" data-level="8.4.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#other-confidence-intervals-ranges-for-t-distribution"><i class="fa fa-check"></i><b>8.4.2</b> Other Confidence Intervals ranges for t-distribution</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="confidence-intervals.html"><a href="confidence-intervals.html#comparing-cis-using-the-z--and-t-distributions"><i class="fa fa-check"></i><b>8.5</b> Comparing CIs using the z- and t-distributions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>9</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#two-tailed-and-one-tailed-tests"><i class="fa fa-check"></i><b>9.1</b> Two-tailed and One-tailed tests</a></li>
<li class="chapter" data-level="9.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#examples-of-1--and-2-tailed-tests"><i class="fa fa-check"></i><b>9.2</b> Examples of 1- and 2-tailed tests</a></li>
<li class="chapter" data-level="9.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#significance-levels-and-p-values"><i class="fa fa-check"></i><b>9.3</b> Significance Levels and p-values</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html"><i class="fa fa-check"></i><b>10</b> One Sample Inferential Statistics</a>
<ul>
<li class="chapter" data-level="10.1" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#one-sample-z-tests"><i class="fa fa-check"></i><b>10.1</b> One-sample z-tests</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#sampling-distribution-recap"><i class="fa fa-check"></i><b>10.1.1</b> Sampling Distribution Recap</a></li>
<li class="chapter" data-level="10.1.2" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#calculating-p-values-for-z-test"><i class="fa fa-check"></i><b>10.1.2</b> Calculating p-values for z-test</a></li>
<li class="chapter" data-level="10.1.3" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#using-critical-values"><i class="fa fa-check"></i><b>10.1.3</b> Using critical values</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#one-sample-t-tests"><i class="fa fa-check"></i><b>10.2</b> One-sample t-tests</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#critical-values-for-the-one-sample-t-test"><i class="fa fa-check"></i><b>10.2.1</b> Critical values for the one-sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#conducting-one-sample-t-tests-in-r"><i class="fa fa-check"></i><b>10.3</b> Conducting one-sample t-tests in R</a></li>
<li class="chapter" data-level="10.4" data-path="one-sample-inferential-statistics.html"><a href="one-sample-inferential-statistics.html#assumptions-of-the-one-sample-t-test"><i class="fa fa-check"></i><b>10.4</b> Assumptions of the one-sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html"><i class="fa fa-check"></i><b>11</b> Two Sample Inferential Statistics</a>
<ul>
<li class="chapter" data-level="11.1" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#independent-samples-t-test"><i class="fa fa-check"></i><b>11.1</b> Independent Samples t-test</a></li>
<li class="chapter" data-level="11.2" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#sampling-distribution-of-the-difference-in-sample-means"><i class="fa fa-check"></i><b>11.2</b> Sampling Distribution of the Difference in Sample Means</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#visualizing-the-sampling-distribution"><i class="fa fa-check"></i><b>11.2.1</b> Visualizing the Sampling Distribution</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#pooled-standard-deviation"><i class="fa fa-check"></i><b>11.3</b> Pooled Standard Deviation</a></li>
<li class="chapter" data-level="11.4" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#theory-behind-students-t-test"><i class="fa fa-check"></i><b>11.4</b> Theory behind Student’s t-test</a></li>
<li class="chapter" data-level="11.5" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#confidence-interval-for-difference-in-means"><i class="fa fa-check"></i><b>11.5</b> Confidence Interval for Difference in Means</a></li>
<li class="chapter" data-level="11.6" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#conducting-the-student-t-test-in-r"><i class="fa fa-check"></i><b>11.6</b> Conducting the Student t-test in R</a></li>
<li class="chapter" data-level="11.7" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#assumptions-of-the-independent-t-test"><i class="fa fa-check"></i><b>11.7</b> Assumptions of the Independent t-test</a></li>
<li class="chapter" data-level="11.8" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#welchs-t-test"><i class="fa fa-check"></i><b>11.8</b> Welch’s t-test</a></li>
<li class="chapter" data-level="11.9" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#effect-size-for-independent-two-sample-t-tests"><i class="fa fa-check"></i><b>11.9</b> Effect Size for Independent two sample t-tests:</a></li>
<li class="chapter" data-level="11.10" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#paired-t-tests"><i class="fa fa-check"></i><b>11.10</b> Paired t-tests</a>
<ul>
<li class="chapter" data-level="11.10.1" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#the-paired-t-test-is-a-one-sample-t-test"><i class="fa fa-check"></i><b>11.10.1</b> The paired t-test is a one-sample t-test</a></li>
<li class="chapter" data-level="11.10.2" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#one-tailed-paired-t-tests"><i class="fa fa-check"></i><b>11.10.2</b> One-tailed paired t-tests</a></li>
<li class="chapter" data-level="11.10.3" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#calculating-effect-sizes"><i class="fa fa-check"></i><b>11.10.3</b> Calculating effect sizes</a></li>
</ul></li>
<li class="chapter" data-level="11.11" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#non-parametric-alternatives-for-independent-t-tests"><i class="fa fa-check"></i><b>11.11</b> Non-parametric Alternatives for Independent t-tests</a></li>
<li class="chapter" data-level="11.12" data-path="two-sample-inferential-statistics.html"><a href="two-sample-inferential-statistics.html#non-parametric-alternatives-to-the-two-sample-t-tests"><i class="fa fa-check"></i><b>11.12</b> Non-parametric Alternatives to the Two Sample t-tests</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>12</b> Correlation</a>
<ul>
<li class="chapter" data-level="12.1" data-path="correlation.html"><a href="correlation.html#pearson-correlation"><i class="fa fa-check"></i><b>12.1</b> Pearson Correlation</a></li>
<li class="chapter" data-level="12.2" data-path="correlation.html"><a href="correlation.html#cross-products"><i class="fa fa-check"></i><b>12.2</b> Cross-products</a></li>
<li class="chapter" data-level="12.3" data-path="correlation.html"><a href="correlation.html#conducting-a-pearson-correlation-test"><i class="fa fa-check"></i><b>12.3</b> Conducting a Pearson Correlation Test</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="correlation.html"><a href="correlation.html#significance-testing-a-pearson-correlation"><i class="fa fa-check"></i><b>12.3.1</b> Significance Testing a Pearson Correlation</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="correlation.html"><a href="correlation.html#assumptions-of-pearsons-correlation"><i class="fa fa-check"></i><b>12.4</b> Assumptions of Pearson’s Correlation</a></li>
<li class="chapter" data-level="12.5" data-path="correlation.html"><a href="correlation.html#confidence-intervals-for-r"><i class="fa fa-check"></i><b>12.5</b> Confidence Intervals for r</a></li>
<li class="chapter" data-level="12.6" data-path="correlation.html"><a href="correlation.html#partial-correlations"><i class="fa fa-check"></i><b>12.6</b> Partial Correlations</a></li>
<li class="chapter" data-level="12.7" data-path="correlation.html"><a href="correlation.html#non-parametric-correlations"><i class="fa fa-check"></i><b>12.7</b> Non-parametric Correlations</a></li>
<li class="chapter" data-level="12.8" data-path="correlation.html"><a href="correlation.html#point-biserial-correlation"><i class="fa fa-check"></i><b>12.8</b> Point-Biserial Correlation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>13</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="linear-regression.html"><a href="linear-regression.html#introduction-to-linear-regression"><i class="fa fa-check"></i><b>13.1</b> Introduction to Linear Regression</a></li>
<li class="chapter" data-level="13.2" data-path="linear-regression.html"><a href="linear-regression.html#a-and-b"><i class="fa fa-check"></i><b>13.2</b> a and b</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="linear-regression.html"><a href="linear-regression.html#how-to-calculate-a-and-b-in-r"><i class="fa fa-check"></i><b>13.2.1</b> How to calculate a and b in R</a></li>
<li class="chapter" data-level="13.2.2" data-path="linear-regression.html"><a href="linear-regression.html#how-to-calculate-a-and-b-by-hand"><i class="fa fa-check"></i><b>13.2.2</b> How to calculate a and b ‘by hand’</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="linear-regression.html"><a href="linear-regression.html#residuals"><i class="fa fa-check"></i><b>13.3</b> Residuals</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="linear-regression.html"><a href="linear-regression.html#how-to-calculate-the-residuals"><i class="fa fa-check"></i><b>13.3.1</b> How to calculate the residuals</a></li>
<li class="chapter" data-level="13.3.2" data-path="linear-regression.html"><a href="linear-regression.html#visualizing-the-residuals"><i class="fa fa-check"></i><b>13.3.2</b> Visualizing the Residuals</a></li>
<li class="chapter" data-level="13.3.3" data-path="linear-regression.html"><a href="linear-regression.html#comparing-our-trendline-to-other-trendlines"><i class="fa fa-check"></i><b>13.3.3</b> Comparing our trendline to other trendlines</a></li>
<li class="chapter" data-level="13.3.4" data-path="linear-regression.html"><a href="linear-regression.html#coefficient-of-determination-r2"><i class="fa fa-check"></i><b>13.3.4</b> Coefficient of Determination R2</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="linear-regression.html"><a href="linear-regression.html#standard-error-of-the-estimate"><i class="fa fa-check"></i><b>13.4</b> Standard Error of the Estimate</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="linear-regression.html"><a href="linear-regression.html#what-to-do-with-the-standard-error-of-the-estimate"><i class="fa fa-check"></i><b>13.4.1</b> What to do with the Standard Error of the Estimate ?</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="linear-regression.html"><a href="linear-regression.html#goodness-of-fit-test---f-ratio"><i class="fa fa-check"></i><b>13.5</b> Goodness of Fit Test - F-ratio</a></li>
<li class="chapter" data-level="13.6" data-path="linear-regression.html"><a href="linear-regression.html#assumptions-of-linear-regression"><i class="fa fa-check"></i><b>13.6</b> Assumptions of Linear Regression</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="linear-regression.html"><a href="linear-regression.html#normality-of-residuals"><i class="fa fa-check"></i><b>13.6.1</b> Normality of Residuals</a></li>
<li class="chapter" data-level="13.6.2" data-path="linear-regression.html"><a href="linear-regression.html#linearity"><i class="fa fa-check"></i><b>13.6.2</b> 2. Linearity —</a></li>
<li class="chapter" data-level="13.6.3" data-path="linear-regression.html"><a href="linear-regression.html#homogeneity-of-variance-homoscedasticity"><i class="fa fa-check"></i><b>13.6.3</b> 3. Homogeneity of Variance / Homoscedasticity</a></li>
<li class="chapter" data-level="13.6.4" data-path="linear-regression.html"><a href="linear-regression.html#no-colinearity"><i class="fa fa-check"></i><b>13.6.4</b> No Colinearity</a></li>
<li class="chapter" data-level="13.6.5" data-path="linear-regression.html"><a href="linear-regression.html#unusual-datapoints"><i class="fa fa-check"></i><b>13.6.5</b> Unusual Datapoints</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="linear-regression.html"><a href="linear-regression.html#examining-individual-predictor-estimates"><i class="fa fa-check"></i><b>13.7</b> Examining individual predictor estimates</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="linear-regression.html"><a href="linear-regression.html#confidence-interval-of-b."><i class="fa fa-check"></i><b>13.7.1</b> 95% confidence interval of ‘b’.</a></li>
<li class="chapter" data-level="13.7.2" data-path="linear-regression.html"><a href="linear-regression.html#standard-error-of-b"><i class="fa fa-check"></i><b>13.7.2</b> Standard Error of b</a></li>
<li class="chapter" data-level="13.7.3" data-path="linear-regression.html"><a href="linear-regression.html#calculating-95-confidence-interval-of-b-by-hand"><i class="fa fa-check"></i><b>13.7.3</b> Calculating 95% confidence interval of ‘b’ by hand</a></li>
<li class="chapter" data-level="13.7.4" data-path="linear-regression.html"><a href="linear-regression.html#signifcance-testing-b"><i class="fa fa-check"></i><b>13.7.4</b> Signifcance Testing b</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="permutation-testing.html"><a href="permutation-testing.html"><i class="fa fa-check"></i><b>14</b> Permutation Testing</a>
<ul>
<li class="chapter" data-level="14.1" data-path="permutation-testing.html"><a href="permutation-testing.html#t-test-permutation"><i class="fa fa-check"></i><b>14.1</b> t-test Permutation</a></li>
<li class="chapter" data-level="14.2" data-path="permutation-testing.html"><a href="permutation-testing.html#correlation-coefficient-permutation-tests"><i class="fa fa-check"></i><b>14.2</b> Correlation Coefficient Permutation Tests</a></li>
<li class="chapter" data-level="14.3" data-path="permutation-testing.html"><a href="permutation-testing.html#permutation-test-for-a-paired-t-test"><i class="fa fa-check"></i><b>14.3</b> Permutation test for a Paired t-test</a></li>
<li class="chapter" data-level="14.4" data-path="permutation-testing.html"><a href="permutation-testing.html#permutation-tests-in-packages"><i class="fa fa-check"></i><b>14.4</b> Permutation tests in Packages</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="analyzing-categorical-data.html"><a href="analyzing-categorical-data.html"><i class="fa fa-check"></i><b>15</b> Analyzing Categorical Data</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSY317L &amp; PSY120R Textbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-data-carpentry" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Introduction to Data Carpentry</h1>
<p>Data carpentry gives us the tools to work with large data sets. During this chapter you will learn basic concepts and skills to help you import, tidy and manage your data.</p>
<p><br></p>
<div id="data-types" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Data Types</h2>
<p>Before learning how to work with data in R, we should know about some of the different types of data there are.</p>
<p>Here is a figure that lays out the hierarchical levels of data types. We use the term ‘variable’ to refer here to data.</p>
<p><img src="img/datatypes.png" width="400" /></p>
<p><br></p>
<div id="qualitative-vs.-quantitative-data" class="section level4" number="4.1.0.1">
<h4><span class="header-section-number">4.1.0.1</span> Qualitative vs. Quantitative Data</h4>
<p>As you can see at the highest level, there are two data types: quantitative and qualitative. The easiest way to distinguish these data types part is to think of qualitative data as data we that are types . In practical terms, you can think of quantitative data as measures such as values or counts that can be expressed as numbers and can be compared on a numeric scale - either whole numbers or numbers with decimal places. Qualitative data are measures or observations of qualities, types or characteristics. They are often cases not numbers but in text form (although they can sometimes be numbers).</p>
<p><br></p>
</div>
<div id="categorical-data" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Categorical Data</h3>
<p>Under qualitative data, we have two different data types: Nominal and Ordinal. Both of these data types are known as categorical data, which means they represent characteristics such as a person’s gender, education level, language, ethnicity etc.</p>
<p>Categorical data can also be represented in a dataset by numbers. For example, if we are studying smokers and non-smokers in a study, the variable “smoking” would be a categorical variable. We could represent that data in text format using “smoker” or “non-smoker” as our data entry, or we could represent smokers as a “0” and non-smokers as a “1”. However, it is important to remember that these numbers don’t have any mathematical meaning here - it’s just a convenient way of representing the data.</p>
<p><br></p>
<div id="nominal-data" class="section level4" number="4.1.1.1">
<h4><span class="header-section-number">4.1.1.1</span> Nominal Data</h4>
<p>Nominal data, sometimes referred to as unordered data are values which represent discrete units and are used to label a variable that have no quantitative value. The key thing about nominal data is that they do not have any natural value or rank, therefore if you change the order of the data, the meaning of the data does not change.</p>
<p>An example of nominal data would be the results to: “What languages do you speak at home?”. If in our study we got the answers: French, English, Spanish &amp; Hindi from different subjects, then the data type is unordered. There is no sense in that French, English, Spanish, or Hindi are higher in rank than any other - they are simply unordered categories.</p>
<p><br></p>
</div>
<div id="ordinal-data" class="section level4" number="4.1.1.2">
<h4><span class="header-section-number">4.1.1.2</span> Ordinal Data</h4>
<p>Like nominal data, ordinal data describes discrete units or categories. However, unlike nominal data, ordinal data does have a natural order or ranking to it.</p>
<p>For example, in a study we may ask subjects, “What is the highest level of education you achieved?” They may be able to choose from the following options:</p>
<p>1- Elementary
2- High School
3- Undergraduate
4- Graduate</p>
<p>Here, each level of the data is a category, but it is ordered. Graduate is higher than Undergraduate which is higher than High School which is higher than Elementary. Therefore this data variable (education) is ordinal data.</p>
<p><br></p>
</div>
</div>
<div id="numerical-data-discrete-vs.-continuous" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Numerical Data (Discrete vs. Continuous)</h3>
<p>Under quantitative data, there is numerical data consist of numbers with real mathematical meaning. There are two types of numerical data.</p>
<p><br></p>
<ol style="list-style-type: decimal">
<li><strong>Discrete</strong> data is data that is separated such that this data can only take on certain value. Most often, these are things that can only be counted in whole units. e.g. If you asked subjects in a study - “how many unique people did you text this week?”, then the answer has to be an integer (a whole number), e.g. 0,1,2,3,etc. You cannot text 2.5 people. Think about discrete data as count data since it can only be counted and not measured.</li>
</ol>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Continuous</strong> data is the opposite of discrete data, it can only be measured not counted. Continuous quantitative data is most often measured using some instrument. For example, if we collected the body weight or height of each subject in a study, then we would get values that would be measured using a scale or a measuring tape and could include decimal places. e.g. you could be 170.5 lbs heavy and you can be 180.2 cm tall.</li>
</ol>
<p>Additionally, quantitative data can be described in terms of interval and ratio data.</p>
<p><br></p>
<div id="interval-data" class="section level4" number="4.1.2.1">
<h4><span class="header-section-number">4.1.2.1</span> Interval Data</h4>
<p>Interval data represents values that are ordered on a scale and the differences between any two values has meaning.</p>
<p>In interval data there is no true zero, which means if you have zero in your data, then zero is just another number. For example, zero on the Fahrenheit temperature scale means it is zero degrees outside, but doesn’t mean the scale stops - 0 actually refers to a temperature. We can also have negative numbers in interval data which are meaningful.</p>
<p><br></p>
</div>
<div id="ratio-data" class="section level4" number="4.1.2.2">
<h4><span class="header-section-number">4.1.2.2</span> Ratio data</h4>
<p>For a variable to be considered ratio data, it holds all the properties of an interval variable - it relates to numbers (including those with decimal places) that can be ordered on a scale. However, ratio data also has a true meaning of zero. Whenever a ratio variable is zero, it means there is none of that variable.</p>
<p>For example, in a study, if a subject reports that they texted zero people in the last week, then here 0 really means the absence of something - it relates to none. Another example of ratio scale data is temperature in Kelvin, where zero degrees Kelvin means there is no heat being emitted.</p>
<p><br><br></p>
</div>
</div>
</div>
<div id="importing-data" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Importing Data</h2>
<p>There are different options for importing data. It’s possible to import data of all different formats into RStudio. We will primarily use spreadsheet type files that have been saved with the <code>.csv</code> suffix. These are called ‘comma separated values’.</p>
<p><strong>Option 1. Import Tab</strong> You can click on the “Import Dataset” tab in the top right of RStudio - it’s located just above your global environment.</p>
<p>Depending on your RStudio version, you will be asked to select from a dropdown menu. When importing <code>.csv</code> files, you want to select <code>From CSV...</code> if your menu looks like this:</p>
<p><img src="img/import_dataset.png" width="800" /></p>
<p>If your menu looks like the underneath, then you’ll want to select <code>From Text (readr)</code>:</p>
<p><img src="img/import2.png" width="500" /></p>
<p><br></p>
<p><strong>Option 2. Writing code.</strong> This is the option that we will use in our scripts for this course. You may notice that all the datasets that we wish to use are in a folder called “data”. To read in any of these datasets, what we need to do is use the <code>read_csv()</code> function. This comes from a package contained with the <code>tidyverse</code> package, so we must have imported that library first. We then tell it which dataset to find within the ‘data’ folder. We use the notation “data/…” to tell it to look inside the data folder. For instance, if we wished to load in the <code>bmi.csv</code> dataset, and assign it the name <code>bmi</code>, we would do it like this - make sure to put quotes around the whole file name and location:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="introduction-to-data-carpentry.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co">#load package</span></span>
<span id="cb230-2"><a href="introduction-to-data-carpentry.html#cb230-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-3"><a href="introduction-to-data-carpentry.html#cb230-3" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/bmi.csv&quot;</span>) <span class="co"># bring in data</span></span>
<span id="cb230-4"><a href="introduction-to-data-carpentry.html#cb230-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-5"><a href="introduction-to-data-carpentry.html#cb230-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bmi) <span class="co"># first six rows</span></span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##      id   age   bmi  chol insulin   dbp   sbp smoke educ 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
## 1     1  18.3  15.4  47.2    2.78  29.5  49.7     1 D    
## 2     2  19.4  14.5  52.1    3.47  31.3  49.0     2 C    
## 3     3  21.1  16.0  52.2    4.06  32.4  51.7     1 B    
## 4     4  21.3  19.5  53.2    4.48  32.0  NA       2 A    
## 5     5  21.1  18.6  55.4    5.34  33.7  53.8     1 D    
## 6     6  23.9  19.5  54.3    6.29  35.0  56.0     2 C</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="introduction-to-data-carpentry.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(bmi) <span class="co"># last six rows</span></span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##      id   age   bmi  chol insulin   dbp   sbp smoke educ 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
## 1    15  34.8  30.4  63.6    15.3  42.7  64.8     1 B    
## 2    16  33.6  29.9  65.5    NA    46.4  65.6     2 A    
## 3    17  33.4  NA    65.2    18.2  46.2  64.6     1 D    
## 4    18  35.1  32.5  68.6    19.7  45.8  66.1     2 C    
## 5    19  35.0  33.4  NA      21.1  NA    68.4     1 B    
## 6    20  37.5  34.1  68.0    22.1  49.3  68.6     2 A</code></pre>
<p>If you want to see more on what the data looks like the following functions can help.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="introduction-to-data-carpentry.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(bmi) <span class="co"># how many rows in dataset</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="introduction-to-data-carpentry.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(bmi) <span class="co"># how many columns in dataset</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="introduction-to-data-carpentry.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bmi) <span class="co"># column names</span></span></code></pre></div>
<pre><code>## [1] &quot;id&quot;      &quot;age&quot;     &quot;bmi&quot;     &quot;chol&quot;    &quot;insulin&quot; &quot;dbp&quot;     &quot;sbp&quot;     &quot;smoke&quot;   &quot;educ&quot;</code></pre>
<p>If you just want to view your entire dataset, there is a function for that.</p>
<p><code>View(bmi)</code></p>
</div>
<div id="introduction-to-dataframes" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Introduction to Dataframes</h2>
<p>A dataframe, in R is like a spreadsheet that contains your data. Each column contains values or characters for one variable. In R, columns are called <strong>variables</strong>. Rows are called <strong>observations</strong>.</p>
<p>In R dataframes need to contain the following:</p>
<ol style="list-style-type: decimal">
<li><p>Columns should all be the same length, with unique column names. These column names should not start with numbers or punctuation, and have no spaces.</p></li>
<li><p>The data stored in dataframes can hold many different data types. The most common are numbers. R describes columns with numbers as being <strong>numeric</strong>, although a column containing only whole numbers (e.g. 1, 5, 342, 1034) may be called <strong>integers</strong>. Columns containing any value with a decimal place (e.g. 0.01, 4.4, -7.39494) will be called <strong>double</strong>. Both <code>double</code> and <code>integer</code> are types of <code>numeric</code> data.</p></li>
</ol>
<p>The second most common data type for a column is <strong>character</strong>. This is the case if the data in the column have any text or punctuation.</p>
<p>A related column type is <strong>factor</strong>. This occurs when the <code>character</code> type is grouped, e.g. if you had a column with different days of the week, you may wish for R to recognize that each is a separate category.</p>
<p>Another column type that comes up semi-regularly, although not much in this course, is <strong>logical</strong>. This is when the column contains either <code>TRUE</code> or <code>FALSE</code> values.</p>
<p>Let’s dive into all the features of a dataframe.</p>
<p>First import data, using <code>read_csv()</code>.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="introduction-to-data-carpentry.html#cb240-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/cheese.csv&quot;</span>)</span></code></pre></div>
<div id="dataframe-basics" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Dataframe basics</h3>
<ol style="list-style-type: decimal">
<li>Look at top few rows using <code>head()</code>. The default for <code>head()</code> is to look at the top 6 rows. However, if you put a comma, and then a number, you can get that number of rows instead. Here we get the default 6, and then we get 4 and 8 rows.</li>
</ol>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="introduction-to-data-carpentry.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300
## 5 caraway      18.6       0.83         8.28    25.2  3.06    93     0   376
## 6 cheddar      21.1       0.942        9.39    24.9  1.28   105     0   403</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="introduction-to-data-carpentry.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 9
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="introduction-to-data-carpentry.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df, <span class="dv">8</span>)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 9
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300
## 5 caraway      18.6       0.83         8.28    25.2  3.06    93     0   376
## 6 cheddar      21.1       0.942        9.39    24.9  1.28   105     0   403
## 7 cheshire     19.5       0.87         8.67    23.4  4.78   103     0   387
## 8 colby        20.2       0.953        9.28    23.8  2.57    95     0   394</code></pre>
<p>You can do the same thing with <code>tail()</code> to look at the bottom rows. The default again is 6, but you can tell it how many rows you wish to look at:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="introduction-to-data-carpentry.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   type                                   sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;                                    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 past process,swiss,lofat                 3.30        0.18        1.35     25.5   4.3    35     0   170
## 2 cottage,lowfat,1% milkfat,w/veg          0.619       0.039       0.282    10.9   3       3     0    67
## 3 past process,cheddar or american,lo na  19.7         0.988       8.93     22.2   1.6    94     0   375
## 4 swiss,low sodium                        17.7         0.968       7.26     28.4   3.4    92     0   376
## 5 swiss,low fat                            3.30        0.18        1.35     28.4   3.4    35     0   179
## 6 mozzarella,lo na                        10.9         0.509       4.84     27.5   3.1    54     0   280</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="introduction-to-data-carpentry.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 9
##    type                                   sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##    &lt;chr&gt;                                    &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 past process,american,lofat              4.41        0.222       2.00     24.6   3.5    35     0   180
##  2 american cheddar,imitn                   8.79        0.409       4.10     16.7  11.6    36     0   239
##  3 parmesan,lo na                          19.1         0.659       8.72     41.6   3.7    79     0   456
##  4 cottage,lowfat,1% milkfat,no na          0.632       0.031       0.284    12.4   2.7     4     0    72
##  5 past process,swiss,lofat                 3.30        0.18        1.35     25.5   4.3    35     0   170
##  6 cottage,lowfat,1% milkfat,w/veg          0.619       0.039       0.282    10.9   3       3     0    67
##  7 past process,cheddar or american,lo na  19.7         0.988       8.93     22.2   1.6    94     0   375
##  8 swiss,low sodium                        17.7         0.968       7.26     28.4   3.4    92     0   376
##  9 swiss,low fat                            3.30        0.18        1.35     28.4   3.4    35     0   179
## 10 mozzarella,lo na                        10.9         0.509       4.84     27.5   3.1    54     0   280</code></pre>
<p>We can also get various dimensions of a dataframe. <code>nrow()</code> gets the number of rows (also termed observations), <code>ncol()</code> gets the number of columns (also called variables), <code>dim()</code> returns both the number of rows and the number of columns, and <code>length()</code> is another way to get the number of columns.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="introduction-to-data-carpentry.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df)  </span></code></pre></div>
<pre><code>## [1] 73</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="introduction-to-data-carpentry.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(df)  </span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="introduction-to-data-carpentry.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df) </span></code></pre></div>
<pre><code>## [1] 73  9</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="introduction-to-data-carpentry.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(df) </span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>As we showed earlier, <code>colnames()</code> is a very useful function for retrieving the names of columns in a dataframe. This is particularly useful when you can’t fit all of the columns onto your screen which is common with big datasets.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="introduction-to-data-carpentry.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;type&quot;        &quot;sat_fat&quot;     &quot;polysat_fat&quot; &quot;monosat_fat&quot; &quot;protein&quot;     &quot;carb&quot;        &quot;chol&quot;       
## [8] &quot;fiber&quot;       &quot;kcal&quot;</code></pre>
<p>Sometimes you may wish to change column names. This is common when you’ve imported some messy data from elsewhere. Hopefully if it is your own data you named your columns well in the first place.</p>
<p>The way to change column names is to assign the new name to the appropriate column, by indicating which column with square brackets <code>[]</code>:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="introduction-to-data-carpentry.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)[<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="st">&quot;carbo&quot;</span></span>
<span id="cb261-2"><a href="introduction-to-data-carpentry.html#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="introduction-to-data-carpentry.html#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;type&quot;        &quot;sat_fat&quot;     &quot;polysat_fat&quot; &quot;monosat_fat&quot; &quot;protein&quot;     &quot;carbo&quot;       &quot;chol&quot;       
## [8] &quot;fiber&quot;       &quot;kcal&quot;</code></pre>
<p>In the above example, we changed the name of the 6th column to <code>carbo</code>. You can change all column names by doing the following:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="introduction-to-data-carpentry.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;type1&quot;</span>, <span class="st">&quot;sat_fat1&quot;</span>, <span class="st">&quot;polysat_fat1&quot;</span>, <span class="st">&quot;monosat_fat1&quot;</span>, <span class="st">&quot;protein1&quot;</span>, <span class="st">&quot;carb1&quot;</span>, <span class="st">&quot;chol1&quot;</span>, <span class="st">&quot;fiber1&quot;</span>, <span class="st">&quot;kcal1&quot;</span>)</span>
<span id="cb263-2"><a href="introduction-to-data-carpentry.html#cb263-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-3"><a href="introduction-to-data-carpentry.html#cb263-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   type1     sat_fat1 polysat_fat1 monosat_fat1 protein1 carb1 chol1 fiber1 kcal1
##   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 blue          18.7        0.8           7.78     21.4  2.34    75      0   353
## 2 brick         18.8        0.784         8.60     23.2  2.79    94      0   371
## 3 brie          17.4        0.826         8.01     20.8  0.45   100      0   334
## 4 camembert     15.3        0.724         7.02     19.8  0.46    72      0   300
## 5 caraway       18.6        0.83          8.28     25.2  3.06    93      0   376
## 6 cheddar       21.1        0.942         9.39     24.9  1.28   105      0   403</code></pre>
<p>Let’s return them back to the original values:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="introduction-to-data-carpentry.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;type&quot;</span>, <span class="st">&quot;sat_fat&quot;</span>, <span class="st">&quot;polysat_fat&quot;</span>, <span class="st">&quot;monosat_fat&quot;</span>, <span class="st">&quot;protein&quot;</span>, <span class="st">&quot;carb&quot;</span>, <span class="st">&quot;chol&quot;</span>, <span class="st">&quot;fiber&quot;</span>, <span class="st">&quot;kcal&quot;</span>)</span>
<span id="cb265-2"><a href="introduction-to-data-carpentry.html#cb265-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-3"><a href="introduction-to-data-carpentry.html#cb265-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300
## 5 caraway      18.6       0.83         8.28    25.2  3.06    93     0   376
## 6 cheddar      21.1       0.942        9.39    24.9  1.28   105     0   403</code></pre>
<p><br>
<br></p>
</div>
<div id="indexing-dataframes." class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Indexing dataframes.</h3>
<p>There are two indexing methods we need to learn. One is the <code>$</code> sign, which indicates we want to get data from a specific column. The other is the square brackets <code>[]</code>.</p>
<p>The <code>$</code> indicates which column to call. For instance, if we wish to get all the data from the <code>chol</code> column of the dataset <code>df</code>, then we would type <code>df$chol</code> and it returns all the data in that column:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="introduction-to-data-carpentry.html#cb267-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>chol</span></code></pre></div>
<pre><code>##  [1]  75  94 100  72  93 105 103  95  17  13   7  10   4 110  89  89 116  94 114 110  90  89  79  89  64
## [26]  54  96  74  88  68 123  69  51  31 104  90  92 102  94  94  85  72  94  85 105  79  46 105 105 105
## [51]  21 100  12  88  55  62  65  11   4  63  18  14  54  35  36  79   4  35   3  94  92  35  54</code></pre>
<p>What if you just want the first 10 rows of kcal? Then we could get all the data from that column with <code>df$kcal</code> but then use the square brackets to tell it to get the values in positions 1 to 10 with <code>[1:10]</code>:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="introduction-to-data-carpentry.html#cb269-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>kcal[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] 353 371 334 300 376 403 387 394  98  97</code></pre>
<p>This works, because you can think of all the data values in each column as essentially its own vector. The square brackets work just as they would with any other vector indexing (see section <a href="basic-syntax.html#vectors">3.3</a>).</p>
<p>Square brackets can be used on the whole dataframe to call just certain rows and columns. <strong>Importantly</strong> row numbers need to be written before the comma, and columns after comma. If you leave anything blank, then it will assume that you mean “all” of the rows or columns.</p>
<p>Technically, running <code>df</code>, and <code>df[,]</code> all return the whole dataframe. What you’re saying is return all of the rows and all of the columns from <code>df</code>.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="introduction-to-data-carpentry.html#cb271-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 73 x 9
##    type                         sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##    &lt;chr&gt;                          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 blue                           18.7        0.8         7.78     21.4  2.34    75 0       353
##  2 brick                          18.8        0.784       8.60     23.2  2.79    94 0       371
##  3 brie                           17.4        0.826       8.01     20.8  0.45   100 0       334
##  4 camembert                      15.3        0.724       7.02     19.8  0.46    72 0       300
##  5 caraway                        18.6        0.83        8.28     25.2  3.06    93 0       376
##  6 cheddar                        21.1        0.942       9.39     24.9  1.28   105 0       403
##  7 cheshire                       19.5        0.87        8.67     23.4  4.78   103 0       387
##  8 colby                          20.2        0.953       9.28     23.8  2.57    95 0       394
##  9 cottage,crmd,lrg or sml curd    1.72       0.123       0.778    11.1  3.38    17 0        98
## 10 cottage,crmd,w/fruit            2.31       0.124       1.04     10.7  4.61    13 0.200    97
## # ... with 63 more rows</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="introduction-to-data-carpentry.html#cb273-1" aria-hidden="true" tabindex="-1"></a>df[,] <span class="co">#return all rows and all columns</span></span></code></pre></div>
<pre><code>## # A tibble: 73 x 9
##    type                         sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##    &lt;chr&gt;                          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 blue                           18.7        0.8         7.78     21.4  2.34    75 0       353
##  2 brick                          18.8        0.784       8.60     23.2  2.79    94 0       371
##  3 brie                           17.4        0.826       8.01     20.8  0.45   100 0       334
##  4 camembert                      15.3        0.724       7.02     19.8  0.46    72 0       300
##  5 caraway                        18.6        0.83        8.28     25.2  3.06    93 0       376
##  6 cheddar                        21.1        0.942       9.39     24.9  1.28   105 0       403
##  7 cheshire                       19.5        0.87        8.67     23.4  4.78   103 0       387
##  8 colby                          20.2        0.953       9.28     23.8  2.57    95 0       394
##  9 cottage,crmd,lrg or sml curd    1.72       0.123       0.778    11.1  3.38    17 0        98
## 10 cottage,crmd,w/fruit            2.31       0.124       1.04     10.7  4.61    13 0.200    97
## # ... with 63 more rows</code></pre>
<p>To just get the 7th row, you put a <code>7</code> before the comma, and leave after the comma blank:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="introduction-to-data-carpentry.html#cb275-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">7</span>,]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 9
##   type     sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 cheshire    19.5        0.87        8.67    23.4  4.78   103     0   387</code></pre>
<p>To get the 10th to 14th rows you can put <code>10:14</code> before the comma and leave after the comma blank:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="introduction-to-data-carpentry.html#cb277-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>,]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 9
##   type                                      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;                                       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 cottage,crmd,w/fruit                        2.31        0.124       1.04    10.7   4.61    13 0.200    97
## 2 cottage,nonfat,uncrmd,dry,lrg or sml curd   0.169       0.003       0.079   10.3   6.66     7 0        72
## 3 cottage,lowfat,2% milkfat                   0.979       0.07        0.443   11.8   3.66    10 0        86
## 4 cottage,lowfat,1% milkfat                   0.645       0.031       0.291   12.4   2.72     4 0        72
## 5 cream                                      19.3         1.44        8.62     5.93  4.07   110 0       342</code></pre>
<p>To get the 3rd column you can leave before the comma blank, and put a <code>3</code> after the comma:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="introduction-to-data-carpentry.html#cb279-1" aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## # A tibble: 73 x 1
##    polysat_fat
##          &lt;dbl&gt;
##  1       0.8  
##  2       0.784
##  3       0.826
##  4       0.724
##  5       0.83 
##  6       0.942
##  7       0.87 
##  8       0.953
##  9       0.123
## 10       0.124
## # ... with 63 more rows</code></pre>
<p>To get the first and second columns, leave before the comma blank and put a <code>1:2</code> after the comma:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="introduction-to-data-carpentry.html#cb281-1" aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## # A tibble: 73 x 2
##    type                         sat_fat
##    &lt;chr&gt;                          &lt;dbl&gt;
##  1 blue                           18.7 
##  2 brick                          18.8 
##  3 brie                           17.4 
##  4 camembert                      15.3 
##  5 caraway                        18.6 
##  6 cheddar                        21.1 
##  7 cheshire                       19.5 
##  8 colby                          20.2 
##  9 cottage,crmd,lrg or sml curd    1.72
## 10 cottage,crmd,w/fruit            2.31
## # ... with 63 more rows</code></pre>
<p>If you want to get non-consecutive columns, you need to use <code>c()</code> with your numbers. For example, to get the 3rd, 5th, and 9th columns you leave before the comma blank and put <code>c(3,5,9)</code> after the comma:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="introduction-to-data-carpentry.html#cb283-1" aria-hidden="true" tabindex="-1"></a>df[,<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">9</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 73 x 3
##    polysat_fat protein  kcal
##          &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1       0.8      21.4   353
##  2       0.784    23.2   371
##  3       0.826    20.8   334
##  4       0.724    19.8   300
##  5       0.83     25.2   376
##  6       0.942    24.9   403
##  7       0.87     23.4   387
##  8       0.953    23.8   394
##  9       0.123    11.1    98
## 10       0.124    10.7    97
## # ... with 63 more rows</code></pre>
<p>You can also combine these. So, to get the 20th to 22nd row, and the 1st, 5th and 9th column, you put <code>20:22</code> before the comma, and <code>c(1,5,9)</code> after the comma:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="introduction-to-data-carpentry.html#cb285-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">20</span><span class="sc">:</span><span class="dv">22</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">9</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   type      protein  kcal
##   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;
## 1 gruyere      29.8   413
## 2 limburger    20.0   327
## 3 monterey     24.5   373</code></pre>
</div>
<div id="adding-and-removing-columns" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Adding and removing columns</h3>
<p>As we will see below in the <code>tidyverse</code> section, there is a way to creating new columns using the function <code>mutate()</code> which we recommend. However, there is also a quick way to create and delete new columns which is worth knowing about.</p>
<p>To create a new column, you can simply type a new name after writing your dataframe name and the dollar sign, and then assign something to it. So, if you wished to create a column called <code>food_type</code> you’d write <code>df$food_type &lt;-</code> and then put whatever you wanted to put into that column. For example, if you wanted it to contain the word ‘cheese’ you’d do the following:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="introduction-to-data-carpentry.html#cb287-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>food_type <span class="ot">&lt;-</span> <span class="st">&quot;cheese&quot;</span></span>
<span id="cb287-2"><a href="introduction-to-data-carpentry.html#cb287-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb287-3"><a href="introduction-to-data-carpentry.html#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal food_type
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353 cheese   
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371 cheese   
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334 cheese   
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300 cheese   
## 5 caraway      18.6       0.83         8.28    25.2  3.06    93     0   376 cheese   
## 6 cheddar      21.1       0.942        9.39    24.9  1.28   105     0   403 cheese</code></pre>
<p>Now every observation (row) has the entry <code>cheese</code> in the column <code>food_type</code>.</p>
<p>If you wanted to put in different data for each observation, e.g. the country of origin of each cheese, then you’d need a vector that was the same length as the number of rows of the dataset. See the section on manually creating dataframes just below for some examples of this.</p>
<p>To delete a column from a dataframe, you just assign the word <code>NULL</code>, which is a special term in R, to that column, and then it will disappear:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="introduction-to-data-carpentry.html#cb289-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>food_type <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb289-2"><a href="introduction-to-data-carpentry.html#cb289-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-3"><a href="introduction-to-data-carpentry.html#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   type      sat_fat polysat_fat monosat_fat protein  carb  chol fiber  kcal
##   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 blue         18.7       0.8          7.78    21.4  2.34    75     0   353
## 2 brick        18.8       0.784        8.60    23.2  2.79    94     0   371
## 3 brie         17.4       0.826        8.01    20.8  0.45   100     0   334
## 4 camembert    15.3       0.724        7.02    19.8  0.46    72     0   300
## 5 caraway      18.6       0.83         8.28    25.2  3.06    93     0   376
## 6 cheddar      21.1       0.942        9.39    24.9  1.28   105     0   403</code></pre>
<p><br></p>
</div>
<div id="structure-of-datasets" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Structure of Datasets</h3>
<p>This little subsection is a bit more about the inner workings of dataframes. It won’t be coding that we use during this course, but if you ever do any extra R things by yourself, you may run into issues that this section could help you resolve.</p>
<p>You can see the structure of your data, whether each variable is a number, character, factor, logical, etc. This can be useful when trying to graph and analysis different types of data.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="introduction-to-data-carpentry.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(bmi)</span></code></pre></div>
<pre><code>## spec_tbl_df [20 x 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ id     : num [1:20] 1 2 3 4 5 6 7 8 9 10 ...
##  $ age    : num [1:20] 18.3 19.4 21.1 21.3 21.1 ...
##  $ bmi    : num [1:20] 15.4 14.5 16 19.5 18.6 ...
##  $ chol   : num [1:20] 47.2 52.1 52.2 53.2 55.4 ...
##  $ insulin: num [1:20] 2.78 3.47 4.06 4.48 5.34 ...
##  $ dbp    : num [1:20] 29.5 31.3 32.4 32 33.7 ...
##  $ sbp    : num [1:20] 49.7 49 51.7 NA 53.8 ...
##  $ smoke  : num [1:20] 1 2 1 2 1 2 1 2 1 2 ...
##  $ educ   : chr [1:20] &quot;D&quot; &quot;C&quot; &quot;B&quot; &quot;A&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   id = col_double(),
##   ..   age = col_double(),
##   ..   bmi = col_double(),
##   ..   chol = col_double(),
##   ..   insulin = col_double(),
##   ..   dbp = col_double(),
##   ..   sbp = col_double(),
##   ..   smoke = col_double(),
##   ..   educ = col_character()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<p>Here you can see that all variables are <code>numeric</code>, except for education with is a <code>character</code>.</p>
<p>Another common variable type is <code>factor</code>. This is similar to a <code>character</code> but it has <code>levels</code>. This means, that R knows that there are groups in that variable. You might notice that the variable <code>smoke</code> is currently a numerical variable with values being either a <code>1</code> (non smoker) or <code>2</code> (smoker). If we wanted to make a graph and plot non-smoker or smoker on the x-axis, then this would appear as 1 or 2, which isn’t helpful. In these situations, it can be helpful to convert our <code>numeric</code> variable into a <code>factor</code>. The way to do that is as follows:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="introduction-to-data-carpentry.html#cb293-1" aria-hidden="true" tabindex="-1"></a>bmi<span class="sc">$</span>smoke <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(bmi<span class="sc">$</span>smoke)</span></code></pre></div>
<p>The <code>$</code> basically allows you to call certain columns in a dataframe. The code <code>bmi$smoke</code> is allowing us to only change that column, or variable to a factor without changing anything else in the dataframe.</p>
<p>You can also change variables to characters with <code>as.character()</code> and to numbers with <code>as.numeric()</code>.</p>
<p><br></p>
</div>
</div>
<div id="manually-creating-a-dataframe" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Manually creating a Dataframe</h2>
<p>Often in R, we don’t want to import a dataset, but rather create a dataset of our own manually in the script. We can do that using the function <code>data.frame()</code>.</p>
<p>Let’s just do a small example. Say, we want to create a dataframe with four columns. We will have the names of 6 different pets in column 1 and call that column <code>name</code>. In the second column, we want the ages of those pets and we’ll call that column <code>age</code>. In the third column we will have the type of animal that pet is, and we’ll call that column <code>animal</code>. In the fourth column, we’ll have whether it’s a male or female pet and we’ll call that column <code>sex</code>. In the fifth column, we’ll have the main color of the pet, and we’ll call that column <code>color</code>.</p>
<p>Here are our 6 pets:</p>
<ol style="list-style-type: decimal">
<li>Steve, an orange male goldfish who is 5.</li>
<li>Hannah, a female blue parrot who is 12.</li>
<li>Colin, a brown male cat who is 15.</li>
<li>Archibald, a grouchy green male terrapin who is 3.</li>
<li>Missy, a female yellow labrador dog who is 2.</li>
<li>Bob, a black male spider who is 10.</li>
</ol>
<p>We need to make sure we put each of the column information in the right order in our dataframe. This is how we manually enter the data:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="introduction-to-data-carpentry.html#cb294-1" aria-hidden="true" tabindex="-1"></a>petdf <span class="ot">&lt;-</span></span>
<span id="cb294-2"><a href="introduction-to-data-carpentry.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb294-3"><a href="introduction-to-data-carpentry.html#cb294-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="fu">c</span>(<span class="st">&quot;Steve&quot;</span>, <span class="st">&quot;Hannah&quot;</span>, <span class="st">&quot;Colin&quot;</span>, <span class="st">&quot;Archibald&quot;</span>, <span class="st">&quot;Missy&quot;</span>, <span class="st">&quot;Bob&quot;</span>),</span>
<span id="cb294-4"><a href="introduction-to-data-carpentry.html#cb294-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age    =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">10</span>),</span>
<span id="cb294-5"><a href="introduction-to-data-carpentry.html#cb294-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">animal =</span> <span class="fu">c</span>(<span class="st">&quot;goldfish&quot;</span>, <span class="st">&quot;parrot&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;terrapin&quot;</span>, <span class="st">&quot;dog&quot;</span>, <span class="st">&quot;spider&quot;</span>),</span>
<span id="cb294-6"><a href="introduction-to-data-carpentry.html#cb294-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex    =</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>),</span>
<span id="cb294-7"><a href="introduction-to-data-carpentry.html#cb294-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">color  =</span> <span class="fu">c</span>(<span class="st">&quot;orange&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;brown&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;black&quot;</span>)</span>
<span id="cb294-8"><a href="introduction-to-data-carpentry.html#cb294-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb294-9"><a href="introduction-to-data-carpentry.html#cb294-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-10"><a href="introduction-to-data-carpentry.html#cb294-10" aria-hidden="true" tabindex="-1"></a>petdf</span></code></pre></div>
<pre><code>##        name age   animal sex  color
## 1     Steve   5 goldfish   M orange
## 2    Hannah  12   parrot   F   blue
## 3     Colin  15      cat   M  brown
## 4 Archibald   3 terrapin   M  green
## 5     Missy   2      dog   F yellow
## 6       Bob  10   spider   M  black</code></pre>
<p>Inside <code>dataframe()</code> we write each column name. Then we put an <code>=</code> sign, and then write the vector of characters or numbers. After each column’s data is entered, we write a comma <code>,</code> to indicate we’re going to the next column. The exception to this is after the last column is entered, <code>color</code> in this case, where we don’t write a comma after we’re done entering all the color information. This indicates that we’re done. Also note that every column has the same number of pieces of information (6). If we had unequal bits of information, R would generally not allow us to make the dataframe. There is one <em>gotcha</em> here though - if you enter less than the number of rows of your new dataframe, e.g. if you’d only entered two values in the color column say, R will repeat those two colors through the remaining empty rows. You need to be careful! If you’re not sure what you’re doing, the best is to ensure that you have the exact number of values as you want rows inside each vector.</p>
<p><br><br><br><br></p>
</div>
<div id="tidyverse" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> tidyverse</h2>
<p>The package <code>tidyverse</code> is what we will be using for most of our data carpentry. <code>tidyverse</code> is a larger package which includes several packages useful for managing, exploring and visualizing data such as <code>tidyr</code>, <code>dplyr</code>, <code>ggplot2</code>, and more.</p>
<p>In this section, we will learn the following functions and syntax:</p>
<p><code>filter()</code> - subsetting data</p>
<p><code>select()</code> - selecting columns</p>
<p><code>arrange()</code> - sorting a column</p>
<p><code>mutate()</code> - adding a new column</p>
<p><code>count()</code> - counts the number of values in a column</p>
<p><code>%&gt;%</code> means “and next do this”</p>
<p><code>==</code> means “is equal to”</p>
<p><code>!=</code> means “is not equal to”</p>
<p><code>|</code> means “or”</p>
<p>First, make sure that you have the <code>tidyverse</code> installed. If you run the following code and do not get an error message saying “tidyverse not found”, then you are good:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="introduction-to-data-carpentry.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>If you did get the error message, then you’ll need to install the library. You only need to do this once, but you will have to load a library on every script you plan to use it.</p>
<p>To install the package:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="introduction-to-data-carpentry.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.package</span>(tidyverse) <span class="co">#install</span></span></code></pre></div>
<p>To load the package to use each time you need it:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="introduction-to-data-carpentry.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>From the <code>tidyverse</code> package <code>readr</code> we can read in our data. We are going to work with a dataset called <code>bloodwork</code> that we will shorten to <code>bw</code>. It contains health information on several subjects:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="introduction-to-data-carpentry.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#load</span></span>
<span id="cb299-2"><a href="introduction-to-data-carpentry.html#cb299-2" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/bloodwork.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="introduction-to-data-carpentry.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bw) </span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 JEC      19 female NJ           1 no        63    101     0.126      0.993       0.921
## 2 GBH      20 male   NY           1 yes       73    120     0.169      1.18        1.19 
## 3 EDH      21 female NJ           0 no        65    100     0.281      4.34        3.21 
## 4 AAA      21 female CT           3 no        66    109     0.244      2.56        4.01 
## 5 AJF      24 female NJ           0 no        67    108     0.092      6.45        9.13 
## 6 FJC      25 female NY           1 yes       80    118     0.014      3.97        2.85</code></pre>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="introduction-to-data-carpentry.html#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(bw) </span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 JIB      66 female NY           0 no        62    121     0.097      1.39        2.13 
## 2 HBB      67 female NJ           1 yes       74    147     0.288      2.27        1.73 
## 3 HDG      68 female NY           3 yes       65    129     0.11       2.65        2.59 
## 4 ECD      68 female NJ           2 yes       77    129     0.404      2.02        4.22 
## 5 HHJ      69 male   CT           2 no        71    121     0.475      0.463       0.449
## 6 CCG      70 male   CT           0 yes       80    132     0.078      1.06        1.01</code></pre>
<p>As you can see, we have variables such as <code>ids</code>, <code>age</code>, the state people live in, their heart rate, how many children they have etc. etc.</p>
<div id="table" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> table()</h3>
<p>This function is not a <code>tidyverse</code> function but is a quick summary function that is useful to know - <code>table()</code>. It is good for quickly summarizing categorical or discrete numerical variables.</p>
<p>For example, to look at the number of smokers and non-smokers, we can do the following:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="introduction-to-data-carpentry.html#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bw<span class="sc">$</span>smoker)</span></code></pre></div>
<pre><code>## 
##  no yes 
##  15  15</code></pre>
<p>We have 15 non-smokers and 15 smokers in the dataset.</p>
<p>To look at the frequency count of how many subjects have 0, 1, 2, 3 children we can do:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="introduction-to-data-carpentry.html#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bw<span class="sc">$</span>children)</span></code></pre></div>
<pre><code>## 
##  0  1  2  3 
## 13 10  5  2</code></pre>
<p>We have thirteen people with 0 children ten with 1 child, five with 2 children and two with 3 children.</p>
<p>You can also compare two categories at once. For instance, to look at the smokers and non-smokers that have different numbers of children, we can include both in the <code>table()</code> function and separate by a comma:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="introduction-to-data-carpentry.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bw<span class="sc">$</span>smoker, bw<span class="sc">$</span>children)</span></code></pre></div>
<pre><code>##      
##       0 1 2 3
##   no  7 4 3 1
##   yes 6 6 2 1</code></pre>
<p>The <code>tidyverse</code> version of <code>table()</code> is to use a function called <code>count()</code>. It does come in useful sometimes, but most of the time you’ll find using <code>table()</code> to be easier. However, here is an example of counting how many individual by each state there are in the data. You first take your dataset, then chain with the pipe <code>%&gt;%</code> the next command which is to <code>count()</code> the column <code>state</code>.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="introduction-to-data-carpentry.html#cb310-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span></span>
<span id="cb310-2"><a href="introduction-to-data-carpentry.html#cb310-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(state)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   state     n
##   &lt;chr&gt; &lt;int&gt;
## 1 CT       12
## 2 NJ       10
## 3 NY        8</code></pre>
<p>We can also get frequency counts for more than one column e.g. to see how many children non-smokers and smokers have, though again, the output from <code>table()</code> is nicer to look at:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="introduction-to-data-carpentry.html#cb312-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span></span>
<span id="cb312-2"><a href="introduction-to-data-carpentry.html#cb312-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(smoker, children)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 3
##   smoker children     n
##   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;
## 1 no            0     7
## 2 no            1     4
## 3 no            2     3
## 4 no            3     1
## 5 yes           0     6
## 6 yes           1     6
## 7 yes           2     2
## 8 yes           3     1</code></pre>
<p><br><br></p>
</div>
<div id="filter---subsetting-data" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> filter() - Subsetting Data</h3>
<p><code>filter()</code> is a way to subset data. In other words, it is a way to only keep certain rows in your dataset. These are rows that must fulfill specific criteria. For example, let’s say we wish to only keep rows that have values in the <code>hrate</code> column that are over 70.</p>
<p>The first step is to take the dataframe <code>bw()</code> and then tell R that you are about to do something else with the <code>%&gt;%</code> syntax. Then use <code>filter()</code> with <code>hrate &gt; 70</code> inside it. This mean, <em>keep</em> the rows with <code>hrate&gt;70</code>. See sections (chaining-syntax) and <a href="introduction-to-data-carpentry.html#chaining-together">4.5.6</a> for a bit more on chaining using <code>%&gt;%</code>.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="introduction-to-data-carpentry.html#cb314-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb314-2"><a href="introduction-to-data-carpentry.html#cb314-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hrate <span class="sc">&gt;</span> <span class="dv">70</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 11
##    ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 GBH      20 male   NY           1 yes       73    120     0.169      1.18        1.19 
##  2 FJC      25 female NY           1 yes       80    118     0.014      3.97        2.85 
##  3 IEE      26 female NY           2 no        71    118     0.093      5.41       10.2  
##  4 IEA      29 female CT           0 yes       74    117     0.429      5.15        4.97 
##  5 FJG      40 female NJ           0 yes       80    109     0.253      5.63        4.11 
##  6 AGC      43 male   NY           1 yes       77    108     0.072      1.44        0.775
##  7 CAE      47 male   CT           1 yes       73    122     0.176      0.127       0.107
##  8 FGD      50 male   NY           0 yes       77    147     0.428      0.037       0.066
##  9 CGC      51 male   CT           0 yes       71    119     0.045      1.73        5.40 
## 10 FHA      53 female CT           2 no        77    125     0.099      0.034       0.057
## 11 JHC      55 female CT           0 no        73    121     0.093      1.32        1.17 
## 12 CFC      65 male   CT           2 yes       77    129     0.151      2.40        1.89 
## 13 HBB      67 female NJ           1 yes       74    147     0.288      2.27        1.73 
## 14 ECD      68 female NJ           2 yes       77    129     0.404      2.02        4.22 
## 15 HHJ      69 male   CT           2 no        71    121     0.475      0.463       0.449
## 16 CCG      70 male   CT           0 yes       80    132     0.078      1.06        1.01</code></pre>
<p>To only keep values that are precisely equal to some value (be it a number or a character), we use <code>filter()</code> with <code>==</code> to mean “is equal to”:</p>
<p>For example, to only keep rows where the state is equal to <code>NJ</code>.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="introduction-to-data-carpentry.html#cb316-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb316-2"><a href="introduction-to-data-carpentry.html#cb316-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">&quot;NJ&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 11
##    ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ           1 no        63    101     0.126      0.993       0.921
##  2 EDH      21 female NJ           0 no        65    100     0.281      4.34        3.21 
##  3 AJF      24 female NJ           0 no        67    108     0.092      6.45        9.13 
##  4 BFB      28 female NJ           0 no        68    118     0.197      0.724       0.848
##  5 ACC      33 male   NJ           1 no        63    131     0.065      4.66        8.50 
##  6 CDC      38 female NJ           0 no        66    133     0.038      8.00       15.2  
##  7 EEB      39 male   NJ           1 no        68    104     0.594      3.06        2.82 
##  8 FJG      40 female NJ           0 yes       80    109     0.253      5.63        4.11 
##  9 HBB      67 female NJ           1 yes       74    147     0.288      2.27        1.73 
## 10 ECD      68 female NJ           2 yes       77    129     0.404      2.02        4.22</code></pre>
<p>If you want to include all subjects that had 3 children, you’d do the following - note that the number does not go in quote marks:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="introduction-to-data-carpentry.html#cb318-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb318-2"><a href="introduction-to-data-carpentry.html#cb318-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(children <span class="sc">==</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 AAA      21 female CT           3 no        66    109     0.244       2.56        4.01
## 2 HDG      68 female NY           3 yes       65    129     0.11        2.65        2.59</code></pre>
<p>If you want to include rows that are equal to one of two values, you can use <code>|</code> to mean “OR”. The following will include rows where the <code>state</code> column is equal to either “NJ” or “NY” in the bloodwork dataset.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="introduction-to-data-carpentry.html#cb320-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb320-2"><a href="introduction-to-data-carpentry.html#cb320-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">&quot;NJ&quot;</span>  <span class="sc">|</span>  state <span class="sc">==</span> <span class="st">&quot;NY&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 18 x 11
##    ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ           1 no        63    101     0.126      0.993       0.921
##  2 GBH      20 male   NY           1 yes       73    120     0.169      1.18        1.19 
##  3 EDH      21 female NJ           0 no        65    100     0.281      4.34        3.21 
##  4 AJF      24 female NJ           0 no        67    108     0.092      6.45        9.13 
##  5 FJC      25 female NY           1 yes       80    118     0.014      3.97        2.85 
##  6 IEE      26 female NY           2 no        71    118     0.093      5.41       10.2  
##  7 BFB      28 female NJ           0 no        68    118     0.197      0.724       0.848
##  8 ACC      33 male   NJ           1 no        63    131     0.065      4.66        8.50 
##  9 CDC      38 female NJ           0 no        66    133     0.038      8.00       15.2  
## 10 EEB      39 male   NJ           1 no        68    104     0.594      3.06        2.82 
## 11 FJG      40 female NJ           0 yes       80    109     0.253      5.63        4.11 
## 12 AGC      43 male   NY           1 yes       77    108     0.072      1.44        0.775
## 13 FGD      50 male   NY           0 yes       77    147     0.428      0.037       0.066
## 14 JCI      52 male   NY           1 yes       61    115     0.131      0.233       0.17 
## 15 JIB      66 female NY           0 no        62    121     0.097      1.39        2.13 
## 16 HBB      67 female NJ           1 yes       74    147     0.288      2.27        1.73 
## 17 HDG      68 female NY           3 yes       65    129     0.11       2.65        2.59 
## 18 ECD      68 female NJ           2 yes       77    129     0.404      2.02        4.22</code></pre>
<p>You can also keep rows that are not equal to some value using the syntax <code>!=</code> which means “not equal to”. For example, to keep rows where the <code>children</code> column is not equal to 0:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="introduction-to-data-carpentry.html#cb322-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb322-2"><a href="introduction-to-data-carpentry.html#cb322-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(children <span class="sc">!=</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## # A tibble: 17 x 11
##    ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ           1 no        63    101     0.126      0.993       0.921
##  2 GBH      20 male   NY           1 yes       73    120     0.169      1.18        1.19 
##  3 AAA      21 female CT           3 no        66    109     0.244      2.56        4.01 
##  4 FJC      25 female NY           1 yes       80    118     0.014      3.97        2.85 
##  5 IEE      26 female NY           2 no        71    118     0.093      5.41       10.2  
##  6 BHE      30 male   CT           1 no        63    120     0.215      1.19        1.6  
##  7 ACC      33 male   NJ           1 no        63    131     0.065      4.66        8.50 
##  8 EEB      39 male   NJ           1 no        68    104     0.594      3.06        2.82 
##  9 AGC      43 male   NY           1 yes       77    108     0.072      1.44        0.775
## 10 CAE      47 male   CT           1 yes       73    122     0.176      0.127       0.107
## 11 JCI      52 male   NY           1 yes       61    115     0.131      0.233       0.17 
## 12 FHA      53 female CT           2 no        77    125     0.099      0.034       0.057
## 13 CFC      65 male   CT           2 yes       77    129     0.151      2.40        1.89 
## 14 HBB      67 female NJ           1 yes       74    147     0.288      2.27        1.73 
## 15 HDG      68 female NY           3 yes       65    129     0.11       2.65        2.59 
## 16 ECD      68 female NJ           2 yes       77    129     0.404      2.02        4.22 
## 17 HHJ      69 male   CT           2 no        71    121     0.475      0.463       0.449</code></pre>
<p>You can also filter several variables at one time. Here, we are keeping all individuals from New York, with a heart rate of over 70, and who have more than 0 children:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="introduction-to-data-carpentry.html#cb324-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb324-2"><a href="introduction-to-data-carpentry.html#cb324-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( state <span class="sc">==</span> <span class="st">&quot;NY&quot;</span>, hrate <span class="sc">&gt;</span> <span class="dv">70</span>, children <span class="sc">!=</span> <span class="st">&quot;0&quot;</span> )</span></code></pre></div>
<pre><code>## # A tibble: 4 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 GBH      20 male   NY           1 yes       73    120     0.169       1.18       1.19 
## 2 FJC      25 female NY           1 yes       80    118     0.014       3.97       2.85 
## 3 IEE      26 female NY           2 no        71    118     0.093       5.41      10.2  
## 4 AGC      43 male   NY           1 yes       77    108     0.072       1.44       0.775</code></pre>
<p>You can create new datasets from filtered data by creating a new object. Here, we create a new dataset called <code>ny1</code> that is based on filtering out rows from our <code>bw</code> dataset.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="introduction-to-data-carpentry.html#cb326-1" aria-hidden="true" tabindex="-1"></a>ny1 <span class="ot">&lt;-</span> bw <span class="sc">%&gt;%</span> </span>
<span id="cb326-2"><a href="introduction-to-data-carpentry.html#cb326-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( state <span class="sc">==</span> <span class="st">&quot;NY&quot;</span>, hrate <span class="sc">&gt;</span> <span class="dv">70</span>, children <span class="sc">!=</span> <span class="st">&quot;0&quot;</span> )</span>
<span id="cb326-3"><a href="introduction-to-data-carpentry.html#cb326-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-4"><a href="introduction-to-data-carpentry.html#cb326-4" aria-hidden="true" tabindex="-1"></a>ny1</span></code></pre></div>
<pre><code>## # A tibble: 4 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 GBH      20 male   NY           1 yes       73    120     0.169       1.18       1.19 
## 2 FJC      25 female NY           1 yes       80    118     0.014       3.97       2.85 
## 3 IEE      26 female NY           2 no        71    118     0.093       5.41      10.2  
## 4 AGC      43 male   NY           1 yes       77    108     0.072       1.44       0.775</code></pre>
<p><br><br></p>
</div>
<div id="select---selecting-specific-columns" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> select() - Selecting specific columns</h3>
<p>Sometimes datasets are too big and unwieldy to look at all at once. Often, we are just interested in certain columns and it makes more sense just to keep the ones we want to focus on. We can use <code>select()</code> to only keep certain columns:</p>
<p>For example, to only keep the columns <code>ids</code>, <code>smoker</code>, <code>hrate</code> and <code>children</code>, we’d do the following:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="introduction-to-data-carpentry.html#cb328-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb328-2"><a href="introduction-to-data-carpentry.html#cb328-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ids, smoker, hrate, children)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    ids   smoker hrate children
##    &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1 JEC   no        63        1
##  2 GBH   yes       73        1
##  3 EDH   no        65        0
##  4 AAA   no        66        3
##  5 AJF   no        67        0
##  6 FJC   yes       80        1
##  7 IEE   no        71        2
##  8 BED   no        62        0
##  9 BFB   no        68        0
## 10 IEA   yes       74        0
## # ... with 20 more rows</code></pre>
<p>Occasionally, you may just want to get rid of certain columns from your data. To get rid of one column you can use <code>select(-column_name)</code>. To get rid of the <code>children</code> column, we’d do the following:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="introduction-to-data-carpentry.html#cb330-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb330-2"><a href="introduction-to-data-carpentry.html#cb330-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>children)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 10
##    ids     age sex    state smoker hrate bpsyst cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ    no        63    101     0.126      0.993       0.921
##  2 GBH      20 male   NY    yes       73    120     0.169      1.18        1.19 
##  3 EDH      21 female NJ    no        65    100     0.281      4.34        3.21 
##  4 AAA      21 female CT    no        66    109     0.244      2.56        4.01 
##  5 AJF      24 female NJ    no        67    108     0.092      6.45        9.13 
##  6 FJC      25 female NY    yes       80    118     0.014      3.97        2.85 
##  7 IEE      26 female NY    no        71    118     0.093      5.41       10.2  
##  8 BED      28 female CT    no        62    104     0.082      1.18        0.788
##  9 BFB      28 female NJ    no        68    118     0.197      0.724       0.848
## 10 IEA      29 female CT    yes       74    117     0.429      5.15        4.97 
## # ... with 20 more rows</code></pre>
<p>To get rid of the <code>children</code>, <code>bpsyst</code> and <code>smoker</code> columns, we’d do the following:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="introduction-to-data-carpentry.html#cb332-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb332-2"><a href="introduction-to-data-carpentry.html#cb332-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>children, <span class="sc">-</span>bpsyst, <span class="sc">-</span>smoker)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 8
##    ids     age sex    state hrate cellcount immuncount immuncount2
##    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC      19 female NJ       63     0.126      0.993       0.921
##  2 GBH      20 male   NY       73     0.169      1.18        1.19 
##  3 EDH      21 female NJ       65     0.281      4.34        3.21 
##  4 AAA      21 female CT       66     0.244      2.56        4.01 
##  5 AJF      24 female NJ       67     0.092      6.45        9.13 
##  6 FJC      25 female NY       80     0.014      3.97        2.85 
##  7 IEE      26 female NY       71     0.093      5.41       10.2  
##  8 BED      28 female CT       62     0.082      1.18        0.788
##  9 BFB      28 female NJ       68     0.197      0.724       0.848
## 10 IEA      29 female CT       74     0.429      5.15        4.97 
## # ... with 20 more rows</code></pre>
<p>You can also select and rename columns as you go. Here, we are selecting the columns <code>ids</code>, <code>sex</code>, <code>smoker</code>, <code>hrate</code> and <code>children</code>. We are renaming <code>sex</code> to be <code>gender</code> and <code>ids</code> to be <code>subject</code>. You rename by just typing the new name and then putting an <code>=</code> sign in front of the old name:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="introduction-to-data-carpentry.html#cb334-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> </span>
<span id="cb334-2"><a href="introduction-to-data-carpentry.html#cb334-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">subject =</span> ids, <span class="at">gender =</span> sex, smoker, hrate, children)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 5
##    subject gender smoker hrate children
##    &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;    &lt;dbl&gt;
##  1 JEC     female no        63        1
##  2 GBH     male   yes       73        1
##  3 EDH     female no        65        0
##  4 AAA     female no        66        3
##  5 AJF     female no        67        0
##  6 FJC     female yes       80        1
##  7 IEE     female no        71        2
##  8 BED     female no        62        0
##  9 BFB     female no        68        0
## 10 IEA     female yes       74        0
## # ... with 20 more rows</code></pre>
<p>If you want these selections to be permanent then you need to rewrite selections in new dataframe. Here we call our new dataframe <code>bw1</code>. You can see the difference between bw and bw1:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="introduction-to-data-carpentry.html#cb336-1" aria-hidden="true" tabindex="-1"></a>bw1 <span class="ot">&lt;-</span> bw <span class="sc">%&gt;%</span>  </span>
<span id="cb336-2"><a href="introduction-to-data-carpentry.html#cb336-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">subject =</span> ids, <span class="at">gender =</span> sex, smoker,hrate,children)</span>
<span id="cb336-3"><a href="introduction-to-data-carpentry.html#cb336-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-4"><a href="introduction-to-data-carpentry.html#cb336-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bw)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   ids     age sex    state children smoker hrate bpsyst cellcount immuncount immuncount2
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 JEC      19 female NJ           1 no        63    101     0.126      0.993       0.921
## 2 GBH      20 male   NY           1 yes       73    120     0.169      1.18        1.19 
## 3 EDH      21 female NJ           0 no        65    100     0.281      4.34        3.21 
## 4 AAA      21 female CT           3 no        66    109     0.244      2.56        4.01 
## 5 AJF      24 female NJ           0 no        67    108     0.092      6.45        9.13 
## 6 FJC      25 female NY           1 yes       80    118     0.014      3.97        2.85</code></pre>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="introduction-to-data-carpentry.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bw1)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##   subject gender smoker hrate children
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;    &lt;dbl&gt;
## 1 JEC     female no        63        1
## 2 GBH     male   yes       73        1
## 3 EDH     female no        65        0
## 4 AAA     female no        66        3
## 5 AJF     female no        67        0
## 6 FJC     female yes       80        1</code></pre>
<p>Instead of typing out the column name each time you use <code>select()</code>, you can also use the column number.</p>
<p>The code below selects for columns 1-2, 8, 10, but does not save the information as a new object. Notice that you don’t need to put these numbers inside of <code>c()</code> for this to work:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="introduction-to-data-carpentry.html#cb340-1" aria-hidden="true" tabindex="-1"></a>bw <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    ids     age bpsyst immuncount
##    &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
##  1 JEC      19    101      0.993
##  2 GBH      20    120      1.18 
##  3 EDH      21    100      4.34 
##  4 AAA      21    109      2.56 
##  5 AJF      24    108      6.45 
##  6 FJC      25    118      3.97 
##  7 IEE      26    118      5.41 
##  8 BED      28    104      1.18 
##  9 BFB      28    118      0.724
## 10 IEA      29    117      5.15 
## # ... with 20 more rows</code></pre>
<p><br><br></p>
</div>
<div id="mutate---creating-new-columns" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> mutate() - Creating new columns</h3>
<p>We use <code>mutate()</code> to add new columns to our dataset. Say we wanted to create a new column called <code>totalimmune</code> that is the sum of the two columns <code>immuncount</code> and <code>immuncount2</code>. Basically, we want to add each subject’s <code>immuncount</code> and <code>immuncount2</code> value together to create a new value called <code>totalimmune</code> that we’ll put into the new column.</p>
<p>The first thing you put inside <code>mutate()</code> is the name we want of the new column. <code>immuncount + immuncount</code> means to add these two columns.</p>
<p>To make these easier to see, we’ll just select three columns and call the new dataset <code>bw2</code>:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="introduction-to-data-carpentry.html#cb342-1" aria-hidden="true" tabindex="-1"></a>bw2 <span class="ot">&lt;-</span> bw <span class="sc">%&gt;%</span></span>
<span id="cb342-2"><a href="introduction-to-data-carpentry.html#cb342-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ids, immuncount, immuncount2)</span>
<span id="cb342-3"><a href="introduction-to-data-carpentry.html#cb342-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-4"><a href="introduction-to-data-carpentry.html#cb342-4" aria-hidden="true" tabindex="-1"></a>bw2</span></code></pre></div>
<pre><code>## # A tibble: 30 x 3
##    ids   immuncount immuncount2
##    &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC        0.993       0.921
##  2 GBH        1.18        1.19 
##  3 EDH        4.34        3.21 
##  4 AAA        2.56        4.01 
##  5 AJF        6.45        9.13 
##  6 FJC        3.97        2.85 
##  7 IEE        5.41       10.2  
##  8 BED        1.18        0.788
##  9 BFB        0.724       0.848
## 10 IEA        5.15        4.97 
## # ... with 20 more rows</code></pre>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="introduction-to-data-carpentry.html#cb344-1" aria-hidden="true" tabindex="-1"></a>bw2 <span class="sc">%&gt;%</span> </span>
<span id="cb344-2"><a href="introduction-to-data-carpentry.html#cb344-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">totalimmune =</span> immuncount <span class="sc">+</span> immuncount2)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    ids   immuncount immuncount2 totalimmune
##    &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
##  1 JEC        0.993       0.921        1.91
##  2 GBH        1.18        1.19         2.37
##  3 EDH        4.34        3.21         7.55
##  4 AAA        2.56        4.01         6.57
##  5 AJF        6.45        9.13        15.6 
##  6 FJC        3.97        2.85         6.82
##  7 IEE        5.41       10.2         15.6 
##  8 BED        1.18        0.788        1.97
##  9 BFB        0.724       0.848        1.57
## 10 IEA        5.15        4.97        10.1 
## # ... with 20 more rows</code></pre>
<p>You can also create new columns in other ways. For example, if you want to create a new column called <code>year</code> and put 2020 into each row, we’d do the following:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="introduction-to-data-carpentry.html#cb346-1" aria-hidden="true" tabindex="-1"></a>bw2 <span class="sc">%&gt;%</span> </span>
<span id="cb346-2"><a href="introduction-to-data-carpentry.html#cb346-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2020</span>)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    ids   immuncount immuncount2  year
##    &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;
##  1 JEC        0.993       0.921  2020
##  2 GBH        1.18        1.19   2020
##  3 EDH        4.34        3.21   2020
##  4 AAA        2.56        4.01   2020
##  5 AJF        6.45        9.13   2020
##  6 FJC        3.97        2.85   2020
##  7 IEE        5.41       10.2    2020
##  8 BED        1.18        0.788  2020
##  9 BFB        0.724       0.848  2020
## 10 IEA        5.15        4.97   2020
## # ... with 20 more rows</code></pre>
<p><br><br></p>
</div>
<div id="arrange---sort-data-columns" class="section level3" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> arrange() - Sort Data Columns</h3>
<p>Often it’s easier to see data if the columns are sorted in ascending or descending order. We can do this using <code>arrange()</code>.</p>
<p>Lets try another example! We’ll use the <code>pga.csv</code> dataset that has historical golf data summary statistics in it. Let’s load in that dataset:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="introduction-to-data-carpentry.html#cb348-1" aria-hidden="true" tabindex="-1"></a>pga <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/pga.csv&quot;</span>)</span></code></pre></div>
<p>We will select the columns <code>name</code>, <code>year</code>, <code>total.holes</code>, <code>total.putts</code>, and <code>score.avg</code> and save as <code>pga1</code>.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="introduction-to-data-carpentry.html#cb349-1" aria-hidden="true" tabindex="-1"></a>pga1 <span class="ot">&lt;-</span> pga <span class="sc">%&gt;%</span> <span class="fu">select</span>(name, year, total.holes, total.putts, score.avg)  </span>
<span id="cb349-2"><a href="introduction-to-data-carpentry.html#cb349-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-3"><a href="introduction-to-data-carpentry.html#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pga1)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##   name            year total.holes total.putts score.avg
##   &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1 Fred Funk       2004        1728        2774      70.4
## 2 Scott Verplank  2004        1638        2619      69.9
## 3 Craig Bowden    2004        1494        2401      71.5
## 4 Joe Durant      2004        1530        2563      70.7
## 5 Tom Byrum       2004        1494        2380      70.5
## 6 Jose Coceres    2004        1152        1819      71.0</code></pre>
<p>You can see that we have the total number of holes played, the total number of putts made, and the scoring average (lower is better in golf) made each year by various PGA golfers.</p>
<p>Perhaps we want to know who has the highest or lowest scoring average. We can sort based on the column <code>score.avg</code> in ascending order with <code>arrange()</code> like this:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="introduction-to-data-carpentry.html#cb351-1" aria-hidden="true" tabindex="-1"></a>pga1 <span class="sc">%&gt;%</span> </span>
<span id="cb351-2"><a href="introduction-to-data-carpentry.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(score.avg)  </span></code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 Tiger Woods     2007        1080        1736      67.8
##  2 Tiger Woods     2009        1116        1763      68.1
##  3 Tiger Woods     2006         936        1528      68.1
##  4 Tiger Woods     2005        1332        2124      68.7
##  5 Rory McIlroy    2014        1152        1830      68.8
##  6 Vijay Singh     2004        1980        3216      68.8
##  7 Luke Donald     2011        1206        1878      68.9
##  8 Jim Furyk       2006        1584        2539      68.9
##  9 Rory McIlroy    2012         972        1551      68.9
## 10 Steve Stricker  2013         846        1348      68.9
## # ... with 2,259 more rows</code></pre>
<p>So, the lowest average score was 67.794 by Tiger Woods in 2007. The second lowest was 68.052 by Tiger Woods in 2009.</p>
<p>To sort data in descending order, we need to put a negative sign (hyphen) <code>-</code> in front of the column name:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="introduction-to-data-carpentry.html#cb353-1" aria-hidden="true" tabindex="-1"></a>pga1 <span class="sc">%&gt;%</span> </span>
<span id="cb353-2"><a href="introduction-to-data-carpentry.html#cb353-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>score.avg)  </span></code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name              year total.holes total.putts score.avg
##    &lt;chr&gt;            &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 David Gossett     2004        1026        1693      75.0
##  2 Kevin Muncrief    2004         900        1490      73.5
##  3 Chris Couch       2004         990        1635      73.5
##  4 Hidemichi Tanaka  2006        1314        2136      73.5
##  5 David Duval       2008         918        1497      73.2
##  6 Brad Faxon        2010         972        1567      73.1
##  7 Eric Axley        2009        1206        1916      73.1
##  8 Hirofumi Miyase   2004        1134        1857      73.1
##  9 Greg Kraft        2010         828        1370      73.1
## 10 Stephen Gangluff  2012         918        1507      73.0
## # ... with 2,259 more rows</code></pre>
<p>The worst average score on the PGA tour was by David Gossett in 2004 with an average of 75.013.</p>
<p><code>arrange()</code> can also sort data in ascending alphabetical order, if you put a column with character data into the function, such as the <code>name</code> column in our data:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="introduction-to-data-carpentry.html#cb355-1" aria-hidden="true" tabindex="-1"></a>pga1 <span class="sc">%&gt;%</span> </span>
<span id="cb355-2"><a href="introduction-to-data-carpentry.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name) </span></code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 Aaron Baddeley  2004        1530        2411      71.6
##  2 Aaron Baddeley  2005        1476        2303      71.3
##  3 Aaron Baddeley  2006        1368        2125      71.2
##  4 Aaron Baddeley  2007        1440        2261      70.1
##  5 Aaron Baddeley  2008        1314        2072      70.2
##  6 Aaron Baddeley  2009        1170        1826      71.2
##  7 Aaron Baddeley  2010        1692        2686      71.0
##  8 Aaron Baddeley  2011        1350        2129      70.2
##  9 Aaron Baddeley  2012        1296        2021      71.1
## 10 Aaron Baddeley  2013        1188        1835      71.5
## # ... with 2,259 more rows</code></pre>
<p>It turns out that Aaron Baddeley is the player that is closest to the beginning of the alphabet. You cannot sort in a descending way on character data.</p>
<p>If you wish to sort over multiple columns, you just need to separate your column names with a comma inside <code>arrange()</code>. So, to first sort by <code>year</code>, and then by <code>score.avg</code>, we’d do the following:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="introduction-to-data-carpentry.html#cb357-1" aria-hidden="true" tabindex="-1"></a>pga1 <span class="sc">%&gt;%</span> </span>
<span id="cb357-2"><a href="introduction-to-data-carpentry.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, score.avg)  </span></code></pre></div>
<pre><code>## # A tibble: 2,269 x 5
##    name            year total.holes total.putts score.avg
##    &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
##  1 Vijay Singh     2004        1980        3216      68.8
##  2 Ernie Els       2004        1044        1653      69.0
##  3 Tiger Woods     2004        1296        2048      69.0
##  4 Phil Mickelson  2004        1422        2287      69.2
##  5 Retief Goosen   2004         990        1580      69.3
##  6 Sergio Garcia   2004        1152        1919      69.8
##  7 Stewart Cink    2004        1746        2731      69.8
##  8 Stephen Ames    2004        1710        2756      69.9
##  9 Scott Verplank  2004        1638        2619      69.9
## 10 David Toms      2004        1332        2174      70.0
## # ... with 2,259 more rows</code></pre>
<p>You can see that the lowest year in this dataset is 2004, and so it put all the rows with 2004 at the top, and then sorted each of these rows by <code>score.avg</code>. So, Vijay Singh had the lowest score with 68.839 in 2004.</p>
<p><br><br></p>
</div>
<div id="chaining-together" class="section level3" number="4.5.6">
<h3><span class="header-section-number">4.5.6</span> Chaining together</h3>
<p>Just as an extra note, the real power of these <code>tidyverse</code> commands, is by chaining them all together. So, one thing we could do is select from our original <code>pga</code> dataset the columns above, then create a new column called <code>putt.avg</code> which is equal to the total number of putts <code>total.putts</code> divided by the total number of holes <code>total.holes</code> columns, and then arrange in ascending order by the new <code>putt.avg</code> column. Here it is in one bit of code:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="introduction-to-data-carpentry.html#cb359-1" aria-hidden="true" tabindex="-1"></a>pga <span class="sc">%&gt;%</span></span>
<span id="cb359-2"><a href="introduction-to-data-carpentry.html#cb359-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, year, total.holes, total.putts, score.avg)  <span class="sc">%&gt;%</span></span>
<span id="cb359-3"><a href="introduction-to-data-carpentry.html#cb359-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">putt.avg =</span> total.putts <span class="sc">/</span> total.holes) <span class="sc">%&gt;%</span></span>
<span id="cb359-4"><a href="introduction-to-data-carpentry.html#cb359-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(putt.avg)</span></code></pre></div>
<pre><code>## # A tibble: 2,269 x 6
##    name            year total.holes total.putts score.avg putt.avg
##    &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 Brian Gay       2013        1422        2173      71.2     1.53
##  2 Kevin Na        2011        1512        2331      70.4     1.54
##  3 Greg Chalmers   2011        1548        2388      70.6     1.54
##  4 Justin Leonard  2014        1350        2083      70.9     1.54
##  5 Steve Stricker  2005        1116        1723      71.1     1.54
##  6 Aaron Baddeley  2013        1188        1835      71.5     1.54
##  7 Jordan Spieth   2015        1584        2448      68.9     1.55
##  8 Jordan Spieth   2014        1764        2730      69.9     1.55
##  9 Tim Clark       2007        1152        1784      69.9     1.55
## 10 Jonas Blixt     2012        1260        1952      70.2     1.55
## # ... with 2,259 more rows</code></pre>
<p>It turns out that Brian Gay in 2013 had the fewest putts per hole.</p>
<p><br><br></p>
</div>
</div>
<div id="wide-versus-long-data" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Wide versus Long Data</h2>
<p>Sometimes you will need to rearrange your data for some data analysis and more commonly for data visualization. Dataframes can come in two broad shapes. There is <strong>wide data</strong> where each row is a separate subject and each column has variables that may or may not contain the same type of data. The other is <strong>long data</strong> where values of the same type are only in one column, and the same subject may appear on several rows.</p>
<p>This is easier to understand with a visual aid. The image below show data that is in <strong>wide</strong> format. Each row contains all the information for each subject - those being three NHL hockey teams. We see the division that each team belongs to, and the total goals they scored in the seasons beginning in 2016, 2017, 2018.</p>
<p><img src="img/carp1.png" /></p>
<p>These data are also <strong>untidy</strong> - as we prefer to have each row contain all the information for one unique value. To do that we need to turn the data into <strong>long</strong> format which looks like this:</p>
<p><img src="img/carp2.png" /></p>
<p>Here, each row contains information related to the team, division, the total number of goals scored, and the year that that piece of data came from. Because each row contains unique information, we call this type of data <strong>tidy</strong>. Essentially, you can see we took columns 3,4, and 5 from the wide data and made these longer.</p>
<p>It can take a bit of practice to fully recognize what data are in wide or long format - sometimes it’s not so clear in really large datasets. This does become important though, because some visualization and analyses can only be done with data in wide format, and others with data in long format. It’s therefore important to be able to switch our dataframes through these two formats.</p>
<p>Fortunately, the <code>tidyverse</code> has built in functions that can turn your dataframe from long format to wide format and vice versa.</p>
<p><code>pivot_longer</code> makes the dataframes longer by increasing the number of rows by combing the number of columns. This is called long form data, which is needed to tidy data for graphing and some analysis.</p>
<p>First, we’ll make some small dataframe examples manually. The first dataframe is a wide dataframe. You could imagine this as showing five subjects and their reaction times at two different timepoints. We call this dataframe <code>df.wide</code>:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="introduction-to-data-carpentry.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="co"># wide data has more than one score of each type per individual in rows</span></span>
<span id="cb361-2"><a href="introduction-to-data-carpentry.html#cb361-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-3"><a href="introduction-to-data-carpentry.html#cb361-3" aria-hidden="true" tabindex="-1"></a>df.wide <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb361-4"><a href="introduction-to-data-carpentry.html#cb361-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;James&quot;</span>, <span class="st">&quot;Tyler&quot;</span>, <span class="st">&quot;Stephen&quot;</span>, <span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;Carmen&quot;</span>),</span>
<span id="cb361-5"><a href="introduction-to-data-carpentry.html#cb361-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">time1 =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">17</span>, <span class="dv">14</span>, <span class="dv">13</span>, <span class="dv">11</span>),</span>
<span id="cb361-6"><a href="introduction-to-data-carpentry.html#cb361-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">time2 =</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">23</span>)</span>
<span id="cb361-7"><a href="introduction-to-data-carpentry.html#cb361-7" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb361-8"><a href="introduction-to-data-carpentry.html#cb361-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-9"><a href="introduction-to-data-carpentry.html#cb361-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-10"><a href="introduction-to-data-carpentry.html#cb361-10" aria-hidden="true" tabindex="-1"></a>df.wide</span></code></pre></div>
<pre><code>##       name time1 time2
## 1    James    15    16
## 2    Tyler    17    19
## 3  Stephen    14    20
## 4 Jennifer    13    21
## 5   Carmen    11    23</code></pre>
<p>The second dataframe we’ll create manually contains the same data, but in a long tidy format:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="introduction-to-data-carpentry.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="co"># long data (also called tidy data) has only one column for each type of score</span></span>
<span id="cb363-2"><a href="introduction-to-data-carpentry.html#cb363-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Every row has the information to make each score unique</span></span>
<span id="cb363-3"><a href="introduction-to-data-carpentry.html#cb363-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-4"><a href="introduction-to-data-carpentry.html#cb363-4" aria-hidden="true" tabindex="-1"></a>df.long <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb363-5"><a href="introduction-to-data-carpentry.html#cb363-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;James&quot;</span>, <span class="st">&quot;Tyler&quot;</span>, <span class="st">&quot;Stephen&quot;</span>, <span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;Carmen&quot;</span>),</span>
<span id="cb363-6"><a href="introduction-to-data-carpentry.html#cb363-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">17</span>, <span class="dv">14</span>, <span class="dv">13</span>, <span class="dv">11</span>, <span class="dv">16</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">23</span>),</span>
<span id="cb363-7"><a href="introduction-to-data-carpentry.html#cb363-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">time =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;time1&quot;</span>, <span class="st">&quot;time2&quot;</span>), <span class="at">each =</span> <span class="dv">5</span>)</span>
<span id="cb363-8"><a href="introduction-to-data-carpentry.html#cb363-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb363-9"><a href="introduction-to-data-carpentry.html#cb363-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-10"><a href="introduction-to-data-carpentry.html#cb363-10" aria-hidden="true" tabindex="-1"></a>df.long </span></code></pre></div>
<pre><code>##        name score  time
## 1     James    15 time1
## 2     Tyler    17 time1
## 3   Stephen    14 time1
## 4  Jennifer    13 time1
## 5    Carmen    11 time1
## 6     James    16 time2
## 7     Tyler    19 time2
## 8   Stephen    20 time2
## 9  Jennifer    21 time2
## 10   Carmen    23 time2</code></pre>
<div id="wide-to-long" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Wide to Long</h3>
<p>To go from wide to long format we can use <code>pivot_longer</code>. We need to tell R which columns contain the data that are currently in wide format and need to be turned into long format. Here, we put <code>cols = 2:3</code> to indicate that the data are in columns 2 and 3. We also use <code>names_to</code> to tell it that we want the new column to be called <code>time</code>:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="introduction-to-data-carpentry.html#cb365-1" aria-hidden="true" tabindex="-1"></a><span class="co"># turn columns 2 and 3 into one long column:</span></span>
<span id="cb365-2"><a href="introduction-to-data-carpentry.html#cb365-2" aria-hidden="true" tabindex="-1"></a>df.wide <span class="sc">%&gt;%</span> </span>
<span id="cb365-3"><a href="introduction-to-data-carpentry.html#cb365-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">names_to=</span><span class="st">&quot;time&quot;</span>)  </span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    name     time  value
##    &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;
##  1 James    time1    15
##  2 James    time2    16
##  3 Tyler    time1    17
##  4 Tyler    time2    19
##  5 Stephen  time1    14
##  6 Stephen  time2    20
##  7 Jennifer time1    13
##  8 Jennifer time2    21
##  9 Carmen   time1    11
## 10 Carmen   time2    23</code></pre>
<p>Our example dataset was very simple, only containing an identifier (<code>name</code>) column and the two columns with data. What if we had other columns in our dataset? Here we add a column called <code>group</code> that indicates if our subject are in a control or treatment group:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="introduction-to-data-carpentry.html#cb367-1" aria-hidden="true" tabindex="-1"></a>df.wide<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;treatment&quot;</span>)</span>
<span id="cb367-2"><a href="introduction-to-data-carpentry.html#cb367-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-3"><a href="introduction-to-data-carpentry.html#cb367-3" aria-hidden="true" tabindex="-1"></a>df.wide</span></code></pre></div>
<pre><code>##       name time1 time2     group
## 1    James    15    16   control
## 2    Tyler    17    19   control
## 3  Stephen    14    20 treatment
## 4 Jennifer    13    21 treatment
## 5   Carmen    11    23 treatment</code></pre>
<p>To convert this dataframe to a long dataframe, we still use the same code indicating that the data to make long are contained in columns 2 and 3. Because each individual is always in the same group (e.g. James is always a control, Carmen is always in treatment), R will just make this a new column:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="introduction-to-data-carpentry.html#cb369-1" aria-hidden="true" tabindex="-1"></a>df.wide <span class="sc">%&gt;%</span> </span>
<span id="cb369-2"><a href="introduction-to-data-carpentry.html#cb369-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">names_to=</span><span class="st">&quot;time&quot;</span>)  </span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    name     group     time  value
##    &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt;
##  1 James    control   time1    15
##  2 James    control   time2    16
##  3 Tyler    control   time1    17
##  4 Tyler    control   time2    19
##  5 Stephen  treatment time1    14
##  6 Stephen  treatment time2    20
##  7 Jennifer treatment time1    13
##  8 Jennifer treatment time2    21
##  9 Carmen   treatment time1    11
## 10 Carmen   treatment time2    23</code></pre>
</div>
<div id="long-to-wide" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Long to Wide</h3>
<p>If we start with data in the long format, we can convert the dataframe to wide format using <code>pivot_wider()</code>. Here, we need to provide the name of the column that contains the data to become new wide columns. We do that below with <code>values_from = score</code>. We also need to state which column contains the new column headers. In this example they are in the column <code>time</code>, so we do that with <code>names_from = time</code>.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="introduction-to-data-carpentry.html#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.long)</span></code></pre></div>
<pre><code>##       name score  time
## 1    James    15 time1
## 2    Tyler    17 time1
## 3  Stephen    14 time1
## 4 Jennifer    13 time1
## 5   Carmen    11 time1
## 6    James    16 time2</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="introduction-to-data-carpentry.html#cb373-1" aria-hidden="true" tabindex="-1"></a>df.long <span class="sc">%&gt;%</span> </span>
<span id="cb373-2"><a href="introduction-to-data-carpentry.html#cb373-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> score, <span class="at">names_from =</span> time)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   name     time1 time2
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 James       15    16
## 2 Tyler       17    19
## 3 Stephen     14    20
## 4 Jennifer    13    21
## 5 Carmen      11    23</code></pre>
<p>Now our data are in a wide format.</p>
<p>Again, it is more common that we have more columns in our dataset. Say we had rated the confidence of each participant on the tasks prior to testing them. We may have a column called confidence that might look like this:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="introduction-to-data-carpentry.html#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if we had more columns in our dataset:</span></span>
<span id="cb375-2"><a href="introduction-to-data-carpentry.html#cb375-2" aria-hidden="true" tabindex="-1"></a>df.long<span class="sc">$</span>confidence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">4</span>, <span class="dv">10</span>) <span class="co"># this repeats all the way down the dataset</span></span>
<span id="cb375-3"><a href="introduction-to-data-carpentry.html#cb375-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb375-4"><a href="introduction-to-data-carpentry.html#cb375-4" aria-hidden="true" tabindex="-1"></a>df.long</span></code></pre></div>
<pre><code>##        name score  time confidence
## 1     James    15 time1          3
## 2     Tyler    17 time1          8
## 3   Stephen    14 time1          9
## 4  Jennifer    13 time1          4
## 5    Carmen    11 time1         10
## 6     James    16 time2          3
## 7     Tyler    19 time2          8
## 8   Stephen    20 time2          9
## 9  Jennifer    21 time2          4
## 10   Carmen    23 time2         10</code></pre>
<p>Even when we have more columns, we still can make our data go wide in the same way:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="introduction-to-data-carpentry.html#cb377-1" aria-hidden="true" tabindex="-1"></a>df.long <span class="sc">%&gt;%</span> </span>
<span id="cb377-2"><a href="introduction-to-data-carpentry.html#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> score, <span class="at">names_from =</span> time)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   name     confidence time1 time2
##   &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 James             3    15    16
## 2 Tyler             8    17    19
## 3 Stephen           9    14    20
## 4 Jennifer          4    13    21
## 5 Carmen           10    11    23</code></pre>
<p>Here, it just truncates the <code>confidence</code> column into one column to go along with <code>name</code>.</p>
</div>
<div id="real-data-example." class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Real Data Example.</h3>
<p>It can be quite hard to work out which columns to select when converting data from long to wide. It mainly comes from practice and from trial-and-error. You can always check if you got it right, and correct yourself if you did not. In this section, we’ll just show an example of converting dataframes between these two formats using some real data.</p>
<p>The dataset we’ll use is called <code>wheels1.csv</code>. We’ll read it in and assign the name <code>wheel</code>:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="introduction-to-data-carpentry.html#cb379-1" aria-hidden="true" tabindex="-1"></a>wheel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/wheels1.csv&quot;</span>)</span>
<span id="cb379-2"><a href="introduction-to-data-carpentry.html#cb379-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-3"><a href="introduction-to-data-carpentry.html#cb379-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wheel)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   strain id      day1  day2   day3   day4 dob        mother sex   wheel startdate   total   age group 
##   &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 
## 1 B6     692ao 12853  8156.  9028. 12516. 4/18/2005  633ax  male      9 10/9/2005  42552.   174 inbred
## 2 B6     656aa  2644  4012.  5237   7404. 12/16/2004 593ar  male      1 9/12/2005  19297    270 inbred
## 3 B6     675ag  4004. 3054.  3816.  3761  2/9/2005   593ad  male      5 10/13/2005 14634.   246 inbred
## 4 B6     675ai 11754. 8863  11784  11684  2/9/2005   593ad  male      4 10/13/2005 44086.   246 inbred
## 5 B6     656af  6906. 5322. 10424.  8468. 12/16/2004 593ar  male      2 10/13/2005 31122    301 inbred
## 6 B6     656al  6517  4440   5334.  9291  12/19/2004 554aa  male      8 10/9/2005  25582.   294 inbred</code></pre>
<p>We’re mainly interested in the <code>id</code>, <code>strain</code> and columns with day in, so we shall use <code>select()</code> to select these columns:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="introduction-to-data-carpentry.html#cb381-1" aria-hidden="true" tabindex="-1"></a>wheeldf <span class="ot">&lt;-</span> wheel <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, strain, day1,day2,day3,day4)</span>
<span id="cb381-2"><a href="introduction-to-data-carpentry.html#cb381-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb381-3"><a href="introduction-to-data-carpentry.html#cb381-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wheeldf)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 6
##   id    strain   day1  day2   day3   day4
##   &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 692ao B6     12853  8156.  9028. 12516.
## 2 656aa B6      2644  4012.  5237   7404.
## 3 675ag B6      4004. 3054.  3816.  3761 
## 4 675ai B6     11754. 8863  11784  11684 
## 5 656af B6      6906. 5322. 10424.  8468.
## 6 656al B6      6517  4440   5334.  9291</code></pre>
<p>These data represent the number id of individual mice, the strain of that mouse, and the number of wheel revolutions made on day1, day2, day3 and day4. It’s currently in wide format.</p>
<p>Let’s convert it to long format, by taking the data in each day column and forcing them to go long:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="introduction-to-data-carpentry.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="co">#convert to long</span></span>
<span id="cb383-2"><a href="introduction-to-data-carpentry.html#cb383-2" aria-hidden="true" tabindex="-1"></a>wheeldf.long <span class="ot">&lt;-</span> wheeldf <span class="sc">%&gt;%</span> </span>
<span id="cb383-3"><a href="introduction-to-data-carpentry.html#cb383-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">names_to=</span><span class="st">&quot;day&quot;</span>)  </span>
<span id="cb383-4"><a href="introduction-to-data-carpentry.html#cb383-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-5"><a href="introduction-to-data-carpentry.html#cb383-5" aria-hidden="true" tabindex="-1"></a>wheeldf.long</span></code></pre></div>
<pre><code>## # A tibble: 320 x 4
##    id    strain day    value
##    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt;
##  1 692ao B6     day1  12853 
##  2 692ao B6     day2   8156.
##  3 692ao B6     day3   9028.
##  4 692ao B6     day4  12516.
##  5 656aa B6     day1   2644 
##  6 656aa B6     day2   4012.
##  7 656aa B6     day3   5237 
##  8 656aa B6     day4   7404.
##  9 675ag B6     day1   4004.
## 10 675ag B6     day2   3054.
## # ... with 310 more rows</code></pre>
<p>If we wished to make our new <code>wheeldf.long</code> dataset to go back to a wide format, we could do this:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="introduction-to-data-carpentry.html#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to make it go wider again, we do:</span></span>
<span id="cb385-2"><a href="introduction-to-data-carpentry.html#cb385-2" aria-hidden="true" tabindex="-1"></a>wheeldf.long <span class="sc">%&gt;%</span> </span>
<span id="cb385-3"><a href="introduction-to-data-carpentry.html#cb385-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">pivot_wider</span>(</span>
<span id="cb385-4"><a href="introduction-to-data-carpentry.html#cb385-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_from =</span> day,</span>
<span id="cb385-5"><a href="introduction-to-data-carpentry.html#cb385-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">values_from =</span> value</span>
<span id="cb385-6"><a href="introduction-to-data-carpentry.html#cb385-6" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<pre><code>## # A tibble: 80 x 6
##    id    strain   day1   day2   day3   day4
##    &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 692ao B6     12853   8156.  9028. 12516.
##  2 656aa B6      2644   4012.  5237   7404.
##  3 675ag B6      4004.  3054.  3816.  3761 
##  4 675ai B6     11754.  8863  11784  11684 
##  5 656af B6      6906.  5322. 10424.  8468.
##  6 656al B6      6517   4440   5334.  9291 
##  7 692an B6     11366.  6473  11790. 15724 
##  8 705ab B6     13794. 10868  14374. 12729 
##  9 692at B6     10486. 12650. 15851  15790 
## 10 692au B6      4592.  5819   9272  11379 
## # ... with 70 more rows</code></pre>
</div>
</div>
<div id="joins" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Joins</h2>
<p>A common requirement in data science is to join together two datasets. Usually these two datasets will have some bits of data in common. For instance, you may have one dataset that contains subject names and lots of demographic information. Another dataset might contain the subject names and their performance on various tests. Ideally, you’d have all of this information in one dataframe. The <code>tidyverse</code> is excellent at joining dataframes quickly and automatically. It is <em>far</em> more foolproof than cutting, copying and pasting in excel which should always be a no-no.</p>
<p>In this course, we won’t actually ever ask you to do any joining. All the datasets that we provide are already cleaned up. However, we are including this small subsection in this guide to introduce you to the topic, should it be something you ever need to do on your own. Joining is surprisingly a really big topic by itself, so we just scratch the surface here. For much more information on this topic, we highly recommend <a href="https://stat545.com/join-cheatsheet.html">Prof Jenny Bryan’s guides</a> as a good starting point.</p>
<p>To illustrate the power of joining, lets make up some data.</p>
<p>The first dataframe, <code>x</code> contains ten subjects who are referred to by an <code>id</code> and their ages (<code>age</code>).</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="introduction-to-data-carpentry.html#cb387-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;id&quot;</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">&quot;age&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">21</span>,<span class="dv">25</span>,<span class="dv">17</span>,<span class="dv">34</span>,<span class="dv">25</span>,<span class="dv">33</span>,<span class="dv">22</span>,<span class="dv">27</span>,<span class="dv">29</span>,<span class="dv">24</span>))</span>
<span id="cb387-2"><a href="introduction-to-data-carpentry.html#cb387-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb387-3"><a href="introduction-to-data-carpentry.html#cb387-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(x)</span></code></pre></div>
<pre><code>##   id age
## 1  1  21
## 2  2  25
## 3  3  17
## 4  4  34
## 5  5  25
## 6  6  33</code></pre>
<p>The second dataframe, <code>y</code>, contains the <code>id</code> of each individual again, but this time we also have data on their height, as well as how many hours they spent on an activity and some work.</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="introduction-to-data-carpentry.html#cb389-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb389-2"><a href="introduction-to-data-carpentry.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;id&quot;</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, </span>
<span id="cb389-3"><a href="introduction-to-data-carpentry.html#cb389-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;height_cm&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">156</span>, <span class="dv">155</span>, <span class="dv">154</span>, <span class="dv">149</span>, <span class="dv">153</span>, <span class="dv">152</span>, <span class="dv">151</span>, <span class="dv">150</span>, <span class="dv">147</span>, <span class="dv">155</span>), </span>
<span id="cb389-4"><a href="introduction-to-data-carpentry.html#cb389-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;activity_hr&quot;</span><span class="ot">=</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">5</span>), </span>
<span id="cb389-5"><a href="introduction-to-data-carpentry.html#cb389-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;work_hr&quot;</span> <span class="ot">=</span><span class="fu">c</span>(<span class="dv">40</span>,<span class="dv">35</span>,<span class="dv">38</span>,<span class="dv">46</span>,<span class="dv">50</span>,<span class="dv">42</span>,<span class="dv">40</span>,<span class="dv">46</span>,<span class="dv">41</span>,<span class="dv">40</span>)</span>
<span id="cb389-6"><a href="introduction-to-data-carpentry.html#cb389-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb389-7"><a href="introduction-to-data-carpentry.html#cb389-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb389-8"><a href="introduction-to-data-carpentry.html#cb389-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(y)</span></code></pre></div>
<pre><code>##   id height_cm activity_hr work_hr
## 1  1       156           3      40
## 2  2       155           5      35
## 3  3       154           3      38
## 4  4       149           6      46
## 5  5       153           7      50
## 6  6       152           4      42</code></pre>
<p>Currently we have ‘age’ in a separate dataframe. Perhaps we want to join it together with all the other information in our dataframe <code>y</code>. We can use <code>full_join()</code> to do this. <code>full_join()</code> joins two different dataframes based on one or more shared variable(s). The following will join based on id.</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="introduction-to-data-carpentry.html#cb391-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> </span>
<span id="cb391-2"><a href="introduction-to-data-carpentry.html#cb391-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(y)</span></code></pre></div>
<pre><code>## Joining, by = &quot;id&quot;</code></pre>
<pre><code>##    id age height_cm activity_hr work_hr
## 1   1  21       156           3      40
## 2   2  25       155           5      35
## 3   3  17       154           3      38
## 4   4  34       149           6      46
## 5   5  25       153           7      50
## 6   6  33       152           4      42
## 7   7  22       151           2      40
## 8   8  27       150           8      46
## 9   9  29       147           4      41
## 10 10  24       155           5      40</code></pre>
<p>As you can see, R joined the two dataframes together and <code>age</code> is now included in the new dataframe.</p>
<p>For this to work, you must have at least one column in each of your two dataframes that exactly matches by name. If you do not have this, R will not know how to join the dataframes together. If you have multiple matching columns, then R will match based on all columns that match - so be careful!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-syntax.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jalapic/introstats/edit/master/03-DataCarpentry.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jalapic/introstats/blob/master/03-DataCarpentry.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
